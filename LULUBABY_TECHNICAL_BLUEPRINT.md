# Lulubaby å¹³å°å®Œæ•´æŠ€è¡“è—åœ–

> **æ–‡æª”ç”¨é€”**ï¼šæ­¤æ–‡æª”æ˜¯ Lulubaby å¹³å°çš„å®Œæ•´æŠ€è¡“è—åœ–ï¼ŒåŒ…å«æ‰€æœ‰æŠ€è¡“ç´°ç¯€ã€è¨­è¨ˆè¦ç¯„ã€å“ç‰Œè­˜åˆ¥ã€æ•¸æ“šåº«çµæ§‹ã€APIè¨­è¨ˆå’Œæ¥­å‹™é‚è¼¯ã€‚ç„¡è«–åœ¨ä»»ä½•æƒ…æ³ä¸‹ï¼ˆåŒ…æ‹¬ä»£ç¢¼ä¸Ÿå¤±ã€å¹³å°æ•…éšœæˆ–é·ç§»ï¼‰ï¼Œéƒ½å¯ä»¥æ ¹æ“šæ­¤æ–‡æª”å®Œæ•´é‡å»ºæ•´å€‹å¹³å°ã€‚
>
> **ç‰ˆæœ¬**ï¼šaf66bf4b  
> **æœ€å¾Œæ›´æ–°**ï¼š2026å¹´1æœˆ2æ—¥  
> **ä½œè€…**ï¼šManus AI

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šå“ç‰Œè­˜åˆ¥èˆ‡è¨­è¨ˆè¦ç¯„

### 1.1 å“ç‰Œå®šç¾©

**é …ç›®åç¨±**ï¼šLulubabyï¼ˆæŠ€è¡“ä»£è™Ÿï¼šai_agent_uiï¼‰

**åç¨±å«ç¾©**ï¼š
- **Lu** = Lucyï¼ˆé›»å½±ã€ŠLucyã€‹ä¸­é–‹ç™¼å¤§è…¦100%çš„è¶…èƒ½åŠ›è§’è‰²ï¼‰
- **Baby** = å¯æ„›çš„è¶…èƒ½åŠ›å¯¶è²ï¼Œæˆç‚ºæ¯ä¸€å€‹äººçš„AIåŠ©æ‰‹
- ç™¼éŸ³æ˜“è¨˜å¥½è½ï¼Œå‚³é”è¦ªåˆ‡å‹å–„çš„å“ç‰Œå½¢è±¡

**æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ**ï¼šè®“ç”¨æˆ¶ï¼ˆä¸­å°ä¼æ¥­ä¸»ã€å€‹äººå‰µæ¥­è€…ï¼‰èƒ½å¤ å¿«é€Ÿå‰µå»ºå°ˆå±¬çš„AIå®¢æœåŠ©æ‰‹ï¼Œç„¡éœ€ç·¨ç¨‹çŸ¥è­˜å³å¯è¨“ç·´AIå›ç­”å®¢æˆ¶å•é¡Œã€æä¾›ç”¢å“è³‡è¨Šã€è™•ç†å¸¸è¦‹è«®è©¢ã€‚

**ç›®æ¨™ç”¨æˆ¶ç¾¤é«”**ï¼š

| ç”¨æˆ¶é¡å‹ | ä½¿ç”¨å ´æ™¯ | æ ¸å¿ƒéœ€æ±‚ |
|---------|---------|---------|
| ä¸­å°ä¼æ¥­ä¸» | é›»å•†å®¢æœã€æœå‹™æ¥­è«®è©¢ | 24å°æ™‚è‡ªå‹•å›è¦†å®¢æˆ¶å•é¡Œ |
| å€‹äººå‰µæ¥­è€… | ç”¢å“æ¨å»£ã€å®¢æˆ¶æ”¯æ´ | ä½æˆæœ¬å»ºç«‹å°ˆæ¥­å®¢æœå½¢è±¡ |
| ä¿éšª/é‡‘èéŠ·å”® | ç”¢å“ä»‹ç´¹ã€å®¢æˆ¶è·Ÿé€² | å€‹æ€§åŒ–éŠ·å”®è©±è¡“ã€å®¢æˆ¶è¨˜æ†¶ |
| éœ€è¦24å°æ™‚å®¢æœçš„ä¼æ¥­ | è·¨æ™‚å€æœå‹™ã€éå·¥ä½œæ™‚é–“æ”¯æ´ | ä¸é–“æ–·æœå‹™ã€é™ä½äººåŠ›æˆæœ¬ |

### 1.2 Logo è¨­è¨ˆè¦ç¯„

**Logo æ¦‚å¿µ**ï¼šçœ¨çœ¼å°è©±æ°£æ³¡ + å¾®ç¬‘è¡¨æƒ…

Logo è¨­è¨ˆèåˆäº†ä¸‰å€‹æ ¸å¿ƒå…ƒç´ ï¼š
1. **å°è©±æ°£æ³¡**ï¼šä»£è¡¨AIå°è©±ã€æºé€šã€å®¢æœåŠŸèƒ½
2. **çœ¨çœ¼è¡¨æƒ…**ï¼šå‚³é”å‹å–„ã€ä¿çš®ã€è¦ªåˆ‡çš„å“ç‰Œå€‹æ€§
3. **å¾®ç¬‘å¼§ç·š**ï¼šè¡¨é”æ­£é¢ã€æ¨‚æ–¼åŠ©äººçš„æ…‹åº¦

**Logo è¦–è¦ºè¦æ ¼**ï¼š

| å±¬æ€§ | è¦æ ¼ |
|-----|------|
| é¢¨æ ¼ | ç©ºå¿ƒç·šæ¢ï¼ˆOutline Styleï¼‰ |
| ä¸»è‰² | Teal (#14B8A6) |
| ç·šæ¢ç²—ç´° | ä¸­ç­‰ç²—åº¦ï¼Œç¢ºä¿å°å°ºå¯¸å¯è¾¨è­˜ |
| å·¦çœ¼ | å¯¦å¿ƒåœ“é» |
| å³çœ¼ | çœ¨çœ¼å¼§ç·š |
| å˜´å·´ | å¾®ç¬‘å¼§ç·š |
| å°–è§’ | å°è©±æ°£æ³¡æŒ‡ç¤ºå°–è§’ï¼ˆå³ä¸‹æ–¹ï¼‰ |

**Logo æ–‡ä»¶è¦æ ¼**ï¼š

| æ–‡ä»¶å | å°ºå¯¸ | ç”¨é€” |
|-------|------|------|
| logo.png | 256Ã—256 px | ç¶²ç«™å°èˆªåˆ—ã€ä¸€èˆ¬é¡¯ç¤º |
| favicon.ico | 16-256 pxï¼ˆå¤šå°ºå¯¸ï¼‰ | ç€è¦½å™¨æ¨™ç±¤é åœ–æ¨™ |
| logo-192.png | 192Ã—192 px | PWA åœ–æ¨™ |
| logo-512.png | 512Ã—512 px | PWA å•Ÿå‹•ç•«é¢ |
| apple-touch-icon.png | 180Ã—180 px | iOS ä¸»å±å¹•åœ–æ¨™ |

**Logo ä½¿ç”¨æŒ‡å—**ï¼š
- æœ€å°é¡¯ç¤ºå°ºå¯¸ï¼š24Ã—24 px
- å‘¨åœéœ€ä¿ç•™è‡³å°‘ Logo å¯¬åº¦ 25% çš„ç•™ç™½ç©ºé–“
- æ·±è‰²èƒŒæ™¯ä½¿ç”¨æ™‚ä¿æŒåŸè‰²ï¼ˆTeal åœ¨æ·±è‰²èƒŒæ™¯ä¸Šå°æ¯”åº¦è¶³å¤ ï¼‰
- ç¦æ­¢æ‹‰ä¼¸ã€æ—‹è½‰æˆ–æ”¹è®Šé¡è‰²

### 1.3 é…è‰²æ–¹æ¡ˆ

**ä¸»è‰²èª¿**ï¼šTealï¼ˆé’ç¶ è‰²ï¼‰

| è‰²å½©è§’è‰² | è‰²ç¢¼ | OKLCH | ç”¨é€” |
|---------|------|-------|------|
| **å“ç‰Œä¸»è‰²** | #14B8A6 | oklch(0.7 0.15 180) | Logoã€å“ç‰Œè­˜åˆ¥ã€é‡è¦æŒ‰éˆ• |
| **ä¸»è¦è‰²** | Blue-700 | var(--color-blue-700) | ä¸»è¦æŒ‰éˆ•ã€é€£çµã€å¼·èª¿å…ƒç´  |
| **æˆåŠŸè‰²** | #10B981 | - | æˆåŠŸç‹€æ…‹ã€å®¢æˆ¶å‰ç«¯é¡åˆ¥ |
| **ç´«è‰²** | #8B5CF6 | - | AIå¤§è…¦é¡åˆ¥ |
| **é’è‰²** | #06B6D4 | - | é–‹ç™¼è€…é¡åˆ¥ |
| **æ©™è‰²** | #F59E0B | - | è¨­å®šé¡åˆ¥ |
| **éŒ¯èª¤è‰²** | #EF4444 | - | éŒ¯èª¤ç‹€æ…‹ã€åˆªé™¤æ“ä½œ |

**å°èˆªé¡åˆ¥é…è‰²**ï¼š

| é¡åˆ¥ | ä¸»è‰² | ç”¨é€” |
|-----|------|------|
| å„€è¡¨æ¿ | #3B82F6ï¼ˆè—è‰²ï¼‰ | æ•¸æ“šçµ±è¨ˆã€æ¦‚è¦½ |
| å®¢æˆ¶å‰ç«¯ | #10B981ï¼ˆç¶ è‰²ï¼‰ | ç‰ˆé¢è¨­å®šã€å®¢æˆ¶è¨˜æ†¶ã€å°ˆå±¬ç¶²å€ |
| AI å¤§è…¦ | #8B5CF6ï¼ˆç´«è‰²ï¼‰ | è¨“ç·´æ™ºèƒ½é«”ã€è¶…èƒ½åŠ›ã€çŸ¥è­˜åº« |
| é–‹ç™¼è€… | #06B6D4ï¼ˆé’è‰²ï¼‰ | WidgetåµŒå…¥ã€APIæ–‡æª” |
| è¨­å®š | #F59E0Bï¼ˆæ©™è‰²ï¼‰ | åœ˜éšŠç®¡ç†ã€å¸³æˆ¶ã€æœƒå“¡è¨ˆåŠƒ |

**æ·ºè‰²ä¸»é¡Œ CSS è®Šæ•¸**ï¼š

```css
:root {
  --background: oklch(1 0 0);                    /* ç´”ç™½èƒŒæ™¯ */
  --foreground: oklch(0.235 0.015 65);           /* æ·±ç°æ–‡å­— */
  --card: oklch(1 0 0);                          /* å¡ç‰‡èƒŒæ™¯ */
  --card-foreground: oklch(0.235 0.015 65);      /* å¡ç‰‡æ–‡å­— */
  --primary: var(--color-blue-700);              /* ä¸»è¦è‰² */
  --primary-foreground: var(--color-blue-50);    /* ä¸»è¦è‰²ä¸Šçš„æ–‡å­— */
  --secondary: oklch(0.98 0.001 286.375);        /* æ¬¡è¦èƒŒæ™¯ */
  --muted: oklch(0.967 0.001 286.375);           /* æŸ”å’ŒèƒŒæ™¯ */
  --muted-foreground: oklch(0.552 0.016 285.938);/* æŸ”å’Œæ–‡å­— */
  --border: oklch(0.92 0.004 286.32);            /* é‚Šæ¡†è‰² */
  --radius: 0.65rem;                             /* åœ“è§’åŠå¾‘ */
}
```

**æ·±è‰²ä¸»é¡Œ CSS è®Šæ•¸**ï¼š

```css
.dark {
  --background: oklch(0.141 0.005 285.823);      /* æ·±è‰²èƒŒæ™¯ */
  --foreground: oklch(0.85 0.005 65);            /* æ·ºè‰²æ–‡å­— */
  --card: oklch(0.21 0.006 285.885);             /* å¡ç‰‡èƒŒæ™¯ */
  --card-foreground: oklch(0.85 0.005 65);       /* å¡ç‰‡æ–‡å­— */
  --border: oklch(1 0 0 / 10%);                  /* åŠé€æ˜é‚Šæ¡† */
}
```

### 1.4 å­—é«”è¦ç¯„

**ä¸»è¦å­—é«”**ï¼šç³»çµ±é»˜èªå­—é«”å †ç–Š

```css
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, 
             "Helvetica Neue", Arial, sans-serif;
```

**å­—é«”å¤§å°å±¤ç´š**ï¼š

| å±¤ç´š | å¤§å° | ç”¨é€” |
|-----|------|------|
| æ¨™é¡Œ H1 | 2rem (32px) | é é¢ä¸»æ¨™é¡Œ |
| æ¨™é¡Œ H2 | 1.5rem (24px) | å€å¡Šæ¨™é¡Œ |
| æ¨™é¡Œ H3 | 1.25rem (20px) | å­å€å¡Šæ¨™é¡Œ |
| æ­£æ–‡ | 1rem (16px) | ä¸€èˆ¬å…§å®¹ |
| å°å­— | 0.875rem (14px) | è¼”åŠ©èªªæ˜ã€æ¨™ç±¤ |
| æ¥µå° | 0.75rem (12px) | æ™‚é–“æˆ³ã€ç‰ˆæ¬Šè²æ˜ |

### 1.5 é–“è·èˆ‡åœ“è§’

**é–“è·ç³»çµ±**ï¼ˆåŸºæ–¼ 4px ç¶²æ ¼ï¼‰ï¼š

| åç¨± | æ•¸å€¼ | ç”¨é€” |
|-----|------|------|
| xs | 4px | ç·Šå¯†é–“è· |
| sm | 8px | å°é–“è· |
| md | 16px | æ¨™æº–é–“è· |
| lg | 24px | å¤§é–“è· |
| xl | 32px | å€å¡Šé–“è· |
| 2xl | 48px | é é¢é–“è· |

**åœ“è§’ç³»çµ±**ï¼š

| åç¨± | æ•¸å€¼ | ç”¨é€” |
|-----|------|------|
| --radius-sm | 0.45rem | å°æŒ‰éˆ•ã€æ¨™ç±¤ |
| --radius-md | 0.55rem | è¼¸å…¥æ¡†ã€å°å¡ç‰‡ |
| --radius-lg | 0.65rem | å¡ç‰‡ã€å°è©±æ¡† |
| --radius-xl | 0.85rem | å¤§å¡ç‰‡ã€æ¨¡æ…‹æ¡† |

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€è¡“æ¶æ§‹

### 2.1 æŠ€è¡“æ£§ç¸½è¦½

| å±¤ç´š | æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|------|------|
| **å‰ç«¯æ¡†æ¶** | React | 19 | UI æ¸²æŸ“å’Œçµ„ä»¶åŒ– |
| **æ¨£å¼ç³»çµ±** | Tailwind CSS | 4 | åŸå­åŒ– CSS æ¨£å¼ |
| **UI çµ„ä»¶åº«** | shadcn/ui | æœ€æ–° | é è£½ UI çµ„ä»¶ |
| **è·¯ç”±** | wouter | - | è¼•é‡ç´šå®¢æˆ¶ç«¯è·¯ç”± |
| **ç‹€æ…‹ç®¡ç†** | tRPC + React Query | 11 | é¡å‹å®‰å…¨çš„æ•¸æ“šç²å–å’Œç·©å­˜ |
| **å¾Œç«¯æ¡†æ¶** | Express | 4 | HTTP æœå‹™å™¨ |
| **API å±¤** | tRPC | 11 | ç«¯åˆ°ç«¯é¡å‹å®‰å…¨ API |
| **æ•¸æ“šåº«** | MySQL / TiDB | - | é—œä¿‚å‹æ•¸æ“šæŒä¹…åŒ– |
| **ORM** | Drizzle ORM | - | é¡å‹å®‰å…¨æ•¸æ“šåº«æ“ä½œ |
| **èªè­‰** | Manus OAuth | - | ç”¨æˆ¶èº«ä»½èªè­‰ |
| **æ–‡ä»¶å­˜å„²** | S3 | - | æ–‡ä»¶å’Œåœ–ç‰‡å­˜å„² |
| **AI æœå‹™** | Manus LLM API | gpt-4o-mini | AI å°è©±ç”Ÿæˆ |
| **æ¸¬è©¦æ¡†æ¶** | Vitest | - | å–®å…ƒæ¸¬è©¦ |

### 2.2 é …ç›®ç›®éŒ„çµæ§‹

```
/home/ubuntu/ai_agent_ui/
â”œâ”€â”€ client/                              # å‰ç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ index.html                       # HTML å…¥å£
â”‚   â”œâ”€â”€ public/                          # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ logo.png                     # ä¸» Logo
â”‚   â”‚   â”œâ”€â”€ favicon.ico                  # ç¶²ç«™åœ–æ¨™
â”‚   â”‚   â”œâ”€â”€ logo-192.png                 # PWA åœ–æ¨™
â”‚   â”‚   â”œâ”€â”€ logo-512.png                 # PWA å¤§åœ–æ¨™
â”‚   â”‚   â””â”€â”€ apple-touch-icon.png         # iOS åœ–æ¨™
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ App.tsx                      # è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ main.tsx                     # æ‡‰ç”¨å…¥å£
â”‚       â”œâ”€â”€ index.css                    # å…¨å±€æ¨£å¼ï¼ˆé…è‰²æ–¹æ¡ˆï¼‰
â”‚       â”œâ”€â”€ pages/                       # é é¢çµ„ä»¶
â”‚       â”‚   â”œâ”€â”€ Dashboard.tsx            # å„€è¡¨æ¿
â”‚       â”‚   â”œâ”€â”€ Appearance.tsx           # ç‰ˆé¢è¨­å®š
â”‚       â”‚   â”œâ”€â”€ Training.tsx             # è¨“ç·´æ™ºèƒ½é«”
â”‚       â”‚   â”œâ”€â”€ Superpowers.tsx          # é–‹ç™¼è¶…èƒ½åŠ›
â”‚       â”‚   â”œâ”€â”€ Knowledge.tsx            # çŸ¥è­˜åº«
â”‚       â”‚   â”œâ”€â”€ Customers.tsx            # å®¢æˆ¶è¨˜æ†¶
â”‚       â”‚   â”œâ”€â”€ Widget.tsx               # Widget åµŒå…¥
â”‚       â”‚   â”œâ”€â”€ Domain.tsx               # å°ˆå±¬ç¶²å€
â”‚       â”‚   â”œâ”€â”€ Team.tsx                 # åœ˜éšŠç®¡ç†
â”‚       â”‚   â”œâ”€â”€ Chat.tsx                 # å…¬é–‹å°è©±é 
â”‚       â”‚   â”œâ”€â”€ Pricing.tsx              # æœƒå“¡è¨ˆåŠƒ
â”‚       â”‚   â””â”€â”€ Account.tsx              # å¸³æˆ¶è¨­å®š
â”‚       â”œâ”€â”€ components/                  # å¯é‡ç”¨çµ„ä»¶
â”‚       â”‚   â”œâ”€â”€ DashboardLayout.tsx      # å´é‚Šæ¬„ä½ˆå±€
â”‚       â”‚   â”œâ”€â”€ AIChatBox.tsx            # èŠå¤©çµ„ä»¶
â”‚       â”‚   â””â”€â”€ ui/                      # shadcn/ui çµ„ä»¶
â”‚       â”œâ”€â”€ lib/
â”‚       â”‚   â”œâ”€â”€ trpc.ts                  # tRPC å®¢æˆ¶ç«¯
â”‚       â”‚   â””â”€â”€ utils.ts                 # å·¥å…·å‡½æ•¸
â”‚       â”œâ”€â”€ hooks/                       # è‡ªå®šç¾© Hooks
â”‚       â””â”€â”€ contexts/                    # React Context
â”œâ”€â”€ server/                              # å¾Œç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ routers.ts                       # tRPC è·¯ç”±å®šç¾©
â”‚   â”œâ”€â”€ db.ts                            # æ•¸æ“šåº«æ“ä½œå‡½æ•¸
â”‚   â”œâ”€â”€ storage.ts                       # S3 å­˜å„²æ“ä½œ
â”‚   â”œâ”€â”€ knowledgeSourceService.ts        # çŸ¥è­˜ä¾†æºè™•ç†
â”‚   â”œâ”€â”€ _core/                           # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ llm.ts                       # LLM èª¿ç”¨å°è£
â”‚   â”‚   â”œâ”€â”€ oauth.ts                     # OAuth èªè­‰
â”‚   â”‚   â”œâ”€â”€ context.ts                   # tRPC ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ env.ts                       # ç’°å¢ƒè®Šæ•¸
â”‚   â”‚   â””â”€â”€ notification.ts              # é€šçŸ¥æœå‹™
â”‚   â””â”€â”€ *.test.ts                        # Vitest æ¸¬è©¦æ–‡ä»¶
â”œâ”€â”€ drizzle/                             # æ•¸æ“šåº« Schema
â”‚   â””â”€â”€ schema.ts                        # è¡¨çµæ§‹å®šç¾©
â”œâ”€â”€ shared/                              # å…±äº«é¡å‹
â”‚   â””â”€â”€ types.ts                         # TypeScript é¡å‹å®šç¾©
â”œâ”€â”€ package.json                         # ä¾è³´é…ç½®
â”œâ”€â”€ todo.md                              # é–‹ç™¼ä»»å‹™è¿½è¹¤
â”œâ”€â”€ PROJECT_SUMMARY.md                   # é …ç›®æ‘˜è¦
â””â”€â”€ LULUBABY_TECHNICAL_BLUEPRINT.md      # æœ¬æ–‡æª”
```

### 2.3 ç’°å¢ƒè®Šæ•¸é…ç½®

| è®Šæ•¸å | ç”¨é€” | ä¾†æº |
|-------|------|------|
| DATABASE_URL | MySQL/TiDB é€£æ¥å­—ç¬¦ä¸² | ç³»çµ±æ³¨å…¥ |
| JWT_SECRET | Session Cookie ç°½åå¯†é‘° | ç³»çµ±æ³¨å…¥ |
| VITE_APP_ID | Manus OAuth æ‡‰ç”¨ ID | ç³»çµ±æ³¨å…¥ |
| OAUTH_SERVER_URL | OAuth å¾Œç«¯ URL | ç³»çµ±æ³¨å…¥ |
| VITE_OAUTH_PORTAL_URL | OAuth ç™»å…¥é é¢ URL | ç³»çµ±æ³¨å…¥ |
| BUILT_IN_FORGE_API_URL | LLM API URL | ç³»çµ±æ³¨å…¥ |
| BUILT_IN_FORGE_API_KEY | LLM API å¯†é‘°ï¼ˆå¾Œç«¯ï¼‰ | ç³»çµ±æ³¨å…¥ |
| VITE_FRONTEND_FORGE_API_KEY | LLM API å¯†é‘°ï¼ˆå‰ç«¯ï¼‰ | ç³»çµ±æ³¨å…¥ |
| OWNER_OPEN_ID | é …ç›®æ“æœ‰è€… ID | ç³»çµ±æ³¨å…¥ |
| OWNER_NAME | é …ç›®æ“æœ‰è€…åç¨± | ç³»çµ±æ³¨å…¥ |

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•¸æ“šåº«è¨­è¨ˆ

### 3.1 æ•¸æ“šè¡¨ç¸½è¦½

å¹³å°å…±æœ‰ **13 å€‹æ•¸æ“šè¡¨**ï¼Œåˆ†ç‚ºå››å¤§é¡åˆ¥ï¼š

**ç”¨æˆ¶èˆ‡èªè­‰**ï¼š
- usersï¼ˆç”¨æˆ¶åŸºæœ¬è³‡æ–™ï¼‰

**AI æ™ºèƒ½é«”é…ç½®**ï¼š
- ai_personasï¼ˆAI äººè¨­ï¼‰
- ai_trainingï¼ˆè¨“ç·´è¨­å®šï¼Œ48é …è©•åˆ†ï¼‰
- superpowersï¼ˆè¶…èƒ½åŠ›è¨­å®šï¼Œ17é …é–‹é—œï¼‰
- knowledge_basesï¼ˆçŸ¥è­˜åº«ï¼‰
- quick_buttonsï¼ˆå¿«æ·æŒ‰éˆ•ï¼‰

**å®¢æˆ¶é—œä¿‚ç®¡ç†**ï¼š
- customersï¼ˆå®¢æˆ¶è³‡æ–™ï¼‰
- customer_memoriesï¼ˆå®¢æˆ¶è¨˜æ†¶ï¼‰
- customer_conversation_summariesï¼ˆå°è©±æ‘˜è¦ï¼‰
- conversationsï¼ˆå°è©±è¨˜éŒ„ï¼‰

**åœ˜éšŠå”ä½œ**ï¼š
- teamsï¼ˆåœ˜éšŠï¼‰
- team_membersï¼ˆåœ˜éšŠæˆå“¡ï¼‰
- team_knowledgeï¼ˆåœ˜éšŠçŸ¥è­˜åº«ï¼‰

### 3.2 æ ¸å¿ƒè¡¨çµæ§‹è©³è§£

#### 3.2.1 users - ç”¨æˆ¶è¡¨

```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  openId VARCHAR(64) UNIQUE NOT NULL,    -- Manus OAuth å”¯ä¸€æ¨™è­˜
  name TEXT,                              -- ç”¨æˆ¶åç¨±
  email VARCHAR(320),                     -- é›»å­éƒµä»¶
  loginMethod VARCHAR(64),                -- ç™»å…¥æ–¹å¼
  role ENUM('user', 'admin') DEFAULT 'user',  -- è§’è‰²
  createdAt TIMESTAMP DEFAULT NOW(),      -- å‰µå»ºæ™‚é–“
  updatedAt TIMESTAMP,                    -- æ›´æ–°æ™‚é–“
  lastSignedIn TIMESTAMP                  -- æœ€å¾Œç™»å…¥æ™‚é–“
);
```

#### 3.2.2 ai_personas - AI äººè¨­è¡¨

```sql
CREATE TABLE ai_personas (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT UNIQUE NOT NULL,             -- é—œè¯ç”¨æˆ¶ï¼ˆä¸€å°ä¸€ï¼‰
  agentName VARCHAR(100),                 -- AI åŠ©æ‰‹åç¨±
  avatarUrl VARCHAR(512),                 -- é ­åƒ URL
  welcomeMessage TEXT,                    -- æ­¡è¿èª
  systemPrompt TEXT,                      -- System Prompt
  primaryColor VARCHAR(20),               -- ä¸»é¡Œé¡è‰² (#hex)
  layoutStyle ENUM('minimal','professional','custom'),  -- ç‰ˆé¢é¢¨æ ¼
  backgroundImageUrl VARCHAR(512),        -- èƒŒæ™¯åœ–ç‰‡ URL
  profilePhotoUrl VARCHAR(512),           -- å€‹äººç…§ç‰‡ URL
  tagline VARCHAR(255),                   -- æ¨™èª
  suggestedQuestions TEXT,                -- å»ºè­°å•é¡Œ (JSON æ•¸çµ„)
  showQuickButtons BOOLEAN DEFAULT true,  -- æ˜¯å¦é¡¯ç¤ºå¿«æ·æŒ‰éˆ•
  chatPlaceholder VARCHAR(255),           -- è¼¸å…¥æ¡†æç¤ºæ–‡å­—
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES users(id)
);
```

#### 3.2.3 ai_training - è¨“ç·´è¨­å®šè¡¨

æ­¤è¡¨åŒ…å« **8 å¤§ç¶­åº¦ Ã— 6 é … = 48 é …è©•åˆ†**ï¼ˆæ¯é … 1-5 åˆ†ï¼‰ï¼š

**ç¶­åº¦ä¸€ï¼šğŸ’¬ èªªè©±é¢¨æ ¼**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| humorLevel | å¹½é»˜ç¨‹åº¦ | 1-5 |
| friendlinessLevel | å‹å–„ç¨‹åº¦ | 1-5 |
| formalityLevel | æ­£å¼ç¨‹åº¦ | 1-5 |
| enthusiasmLevel | ç†±æƒ…ç¨‹åº¦ | 1-5 |
| patienceLevel | è€å¿ƒç¨‹åº¦ | 1-5 |
| empathyLevel | åŒç†å¿ƒç¨‹åº¦ | 1-5 |

**ç¶­åº¦äºŒï¼šğŸ“ å›æ‡‰æ–¹å¼**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| responseLength | å›æ‡‰é•·åº¦ | 1-5 |
| responseDepth | å›æ‡‰æ·±åº¦ | 1-5 |
| exampleUsage | èˆ‰ä¾‹é »ç‡ | 1-5 |
| dataUsage | æ•¸æ“šå¼•ç”¨ | 1-5 |
| metaphorUsage | æ¯”å–»ä½¿ç”¨ | 1-5 |
| structuredResponse | çµæ§‹åŒ–å›æ‡‰ | 1-5 |

**ç¶­åº¦ä¸‰ï¼šğŸ¤ æºé€šæ…‹åº¦**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| proactiveness | ä¸»å‹•ç¨‹åº¦ | 1-5 |
| questioningStyle | æå•é¢¨æ ¼ | 1-5 |
| suggestionFrequency | å»ºè­°é »ç‡ | 1-5 |
| humilityLevel | è¬™éœç¨‹åº¦ | 1-5 |
| persistenceLevel | å …æŒç¨‹åº¦ | 1-5 |
| careLevel | é—œæ‡·ç¨‹åº¦ | 1-5 |

**ç¶­åº¦å››ï¼šğŸ’¼ éŠ·å”®é¢¨æ ¼**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| pushIntensity | æ¨éŠ·å¼·åº¦ | 1-5 |
| urgencyCreation | ç·Šè¿«æ„Ÿç‡Ÿé€  | 1-5 |
| priceSensitivity | åƒ¹æ ¼æ•æ„Ÿåº¦ | 1-5 |
| comparisonUsage | æ¯”è¼ƒä½¿ç”¨ | 1-5 |
| closingIntensity | æˆäº¤å¼·åº¦ | 1-5 |
| followUpFrequency | è·Ÿé€²é »ç‡ | 1-5 |

**ç¶­åº¦äº”ï¼šğŸ“ å°ˆæ¥­è¡¨ç¾**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| terminologyUsage | è¡“èªä½¿ç”¨ | 1-5 |
| regulationAwareness | æ³•è¦æ„è­˜ | 1-5 |
| riskWarningLevel | é¢¨éšªè­¦ç¤º | 1-5 |
| caseStudyUsage | æ¡ˆä¾‹å¼•ç”¨ | 1-5 |
| marketAnalysis | å¸‚å ´åˆ†æ | 1-5 |
| educationalContent | æ•™è‚²å…§å®¹ | 1-5 |

**ç¶­åº¦å…­ï¼šğŸ˜Š æƒ…ç·’è™•ç†**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| soothingAbility | å®‰æ’«èƒ½åŠ› | 1-5 |
| praiseFrequency | è®šç¾é »ç‡ | 1-5 |
| encouragementLevel | é¼“å‹µç¨‹åº¦ | 1-5 |
| negativeHandling | è² é¢è™•ç† | 1-5 |
| optimismLevel | æ¨‚è§€ç¨‹åº¦ | 1-5 |
| humorInTension | ç·Šå¼µæ™‚å¹½é»˜ | 1-5 |

**ç¶­åº¦ä¸ƒï¼šğŸ—£ï¸ èªè¨€ç¿’æ…£**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| emojiUsage | è¡¨æƒ…ç¬¦è™Ÿä½¿ç”¨ | 1-5 |
| colloquialLevel | å£èªåŒ–ç¨‹åº¦ | 1-5 |
| cantoneseUsage | å»£æ±è©±ä½¿ç”¨ | 1-5 |
| englishMixing | ä¸­è‹±å¤¾é›œ | 1-5 |
| exclamationUsage | æ„Ÿå˜†è©ä½¿ç”¨ | 1-5 |
| addressingStyle | ç¨±å‘¼é¢¨æ ¼ | 1-5 |

**ç¶­åº¦å…«ï¼šâš ï¸ æœå‹™é‚Šç•Œ**
| æ¬„ä½ | èªªæ˜ | ç¯„åœ |
|-----|------|------|
| topicRange | è©±é¡Œç¯„åœ | 1-5 |
| privacyAwareness | éš±ç§æ„è­˜ | 1-5 |
| promiseCaution | æ‰¿è«¾è¬¹æ… | 1-5 |
| referralWillingness | è½‰ä»‹æ„é¡˜ | 1-5 |
| uncertaintyHandling | ä¸ç¢ºå®šè™•ç† | 1-5 |
| complaintHandling | æŠ•è¨´è™•ç† | 1-5 |

**è‡ªè¨‚æŒ‡ä»¤æ¬„ä½**ï¼š
| æ¬„ä½ | èªªæ˜ |
|-----|------|
| behaviorInstructions | è¡Œç‚ºæŒ‡ä»¤ï¼ˆè‡ªç”±æ–‡å­—ï¼‰ |
| prohibitedActions | ç¦æ­¢è¡Œç‚ºï¼ˆè‡ªç”±æ–‡å­—ï¼‰ |
| customGreeting | è‡ªè¨‚å•å€™èª |
| customClosing | è‡ªè¨‚çµå°¾èª |
| customPhrases | è‡ªè¨‚å¸¸ç”¨èª |

#### 3.2.4 superpowers - è¶…èƒ½åŠ›è¨­å®šè¡¨

æ­¤è¡¨åŒ…å« **5 å¤§é¡åˆ¥ Ã— 3-4 é … = 17 é … Boolean é–‹é—œ**ï¼š

| é¡åˆ¥ | æ¬„ä½ | èªªæ˜ |
|-----|------|------|
| ğŸ§  è¶…ç´šå¤§è…¦ | instantResearch | å³æ™‚ç ”ç©¶ |
| | globalComparison | å…¨çƒæ¯”è¼ƒ |
| | legalInterpretation | æ³•å¾‹è§£è®€ |
| | caseSearch | æ¡ˆä¾‹æœç´¢ |
| â° æ™‚é–“æŒæ§ | cloneAbility | åˆ†èº«èƒ½åŠ› |
| | perfectMemory | å®Œç¾è¨˜æ†¶ |
| | alwaysOnline | æ°¸é åœ¨ç·š |
| | instantReply | å³æ™‚å›è¦† |
| ğŸ”® é çŸ¥æœªä¾† | needsPrediction | éœ€æ±‚é æ¸¬ |
| | riskWarning | é¢¨éšªé è­¦ |
| | bestTiming | æœ€ä½³æ™‚æ©Ÿ |
| ğŸŒ å…¨çƒè¦–é‡ | marketRadar | å¸‚å ´é›·é” |
| | multiLanguage | å¤šèªè¨€ |
| | globalInfo | å…¨çƒè³‡è¨Š |
| ğŸ’¬ è®€å¿ƒè¡“ | emotionSense | æƒ…ç·’æ„ŸçŸ¥ |
| | persuasionMaster | èªªæœå¤§å¸« |
| | styleAdaptation | é¢¨æ ¼é©æ‡‰ |

#### 3.2.5 knowledge_bases - çŸ¥è­˜åº«è¡¨

```sql
CREATE TABLE knowledge_bases (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,                    -- æ‰€å±¬ç”¨æˆ¶
  fileName VARCHAR(255),                  -- æ–‡ä»¶åç¨±
  fileUrl VARCHAR(512),                   -- S3 URLï¼ˆæ–‡ä»¶é¡å‹ï¼‰
  fileKey VARCHAR(512),                   -- S3 Key
  fileSize INT,                           -- æ–‡ä»¶å¤§å°ï¼ˆbytesï¼‰
  mimeType VARCHAR(100),                  -- MIME é¡å‹
  content TEXT,                           -- æå–çš„æ–‡æœ¬å…§å®¹
  status ENUM('processing','ready','error'),  -- è™•ç†ç‹€æ…‹
  category VARCHAR(50),                   -- åˆ†é¡æ¨™ç±¤
  sourceType ENUM('file','youtube','webpage','text','faq'),  -- ä¾†æºé¡å‹
  sourceUrl VARCHAR(1024),                -- ä¾†æº URL
  sourceMeta TEXT,                        -- ä¾†æºå…ƒæ•¸æ“š (JSON)
  createdAt TIMESTAMP DEFAULT NOW(),
  FOREIGN KEY (userId) REFERENCES users(id)
);
```

**æ”¯æ´çš„çŸ¥è­˜ä¾†æºé¡å‹**ï¼š

| é¡å‹ | èªªæ˜ | è™•ç†æ–¹å¼ |
|-----|------|---------|
| file | æ–‡ä»¶ä¸Šå‚³ | ä¸Šå‚³åˆ° S3ï¼Œæå–æ–‡æœ¬å…§å®¹ |
| youtube | YouTube å½±ç‰‡ | ç²å–å­—å¹•æ–‡æœ¬ |
| webpage | ç¶²é å…§å®¹ | çˆ¬å–ä¸¦è§£æ HTML |
| text | ç›´æ¥æ–‡å­— | ç›´æ¥å­˜å„² |
| faq | FAQ å•ç­”å° | è§£æ JSON æ ¼å¼å•ç­” |

#### 3.2.6 customers - å®¢æˆ¶è¡¨

```sql
CREATE TABLE customers (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,                    -- æ‰€å±¬ç”¨æˆ¶ï¼ˆAI æ“æœ‰è€…ï¼‰
  sessionId VARCHAR(64),                  -- æœƒè©± ID
  deviceFingerprint VARCHAR(128),         -- è¨­å‚™æŒ‡ç´‹
  name VARCHAR(100),                      -- å®¢æˆ¶åç¨±
  email VARCHAR(320),                     -- é›»å­éƒµä»¶
  phone VARCHAR(50),                      -- é›»è©±
  company VARCHAR(200),                   -- å…¬å¸åç¨±
  notes TEXT,                             -- å‚™è¨»
  tags TEXT,                              -- æ¨™ç±¤ (JSON æ•¸çµ„)
  sentiment ENUM('positive','neutral','negative'),  -- æƒ…ç·’æ¨™ç±¤
  totalConversations INT DEFAULT 0,       -- ç¸½å°è©±æ•¸
  totalMessages INT DEFAULT 0,            -- ç¸½è¨Šæ¯æ•¸
  firstSeenAt TIMESTAMP DEFAULT NOW(),    -- é¦–æ¬¡å‡ºç¾æ™‚é–“
  lastSeenAt TIMESTAMP,                   -- æœ€å¾Œå‡ºç¾æ™‚é–“
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES users(id)
);
```

#### 3.2.7 customer_memories - å®¢æˆ¶è¨˜æ†¶è¡¨

```sql
CREATE TABLE customer_memories (
  id INT PRIMARY KEY AUTO_INCREMENT,
  customerId INT NOT NULL,                -- é—œè¯å®¢æˆ¶
  memoryType ENUM('preference','need','concern','fact','behavior'),  -- è¨˜æ†¶é¡å‹
  content TEXT NOT NULL,                  -- è¨˜æ†¶å…§å®¹
  confidence DECIMAL(3,2),                -- ç½®ä¿¡åº¦ (0.00-1.00)
  source ENUM('conversation','manual','system'),  -- ä¾†æº
  createdAt TIMESTAMP DEFAULT NOW(),
  FOREIGN KEY (customerId) REFERENCES customers(id)
);
```

**è¨˜æ†¶é¡å‹èªªæ˜**ï¼š

| é¡å‹ | èªªæ˜ | ç¯„ä¾‹ |
|-----|------|------|
| preference | åå¥½ | å–œæ­¡ç°¡æ½”çš„å›ç­” |
| need | éœ€æ±‚ | æ­£åœ¨å°‹æ‰¾ä¿éšªç”¢å“ |
| concern | é¡§æ…® | æ“”å¿ƒåƒ¹æ ¼å¤ªé«˜ |
| fact | äº‹å¯¦ | å·²å©šï¼Œæœ‰å…©å€‹å­©å­ |
| behavior | è¡Œç‚º | ç¶“å¸¸åœ¨æ™šä¸Šè©¢å• |

#### 3.2.8 customer_conversation_summaries - å°è©±æ‘˜è¦è¡¨

```sql
CREATE TABLE customer_conversation_summaries (
  id INT PRIMARY KEY AUTO_INCREMENT,
  customerId INT NOT NULL,                -- é—œè¯å®¢æˆ¶
  sessionId VARCHAR(64),                  -- æœƒè©± ID
  summary TEXT,                           -- å°è©±æ‘˜è¦
  topics TEXT,                            -- é—œéµè©±é¡Œ (JSON æ•¸çµ„)
  customerQuestions TEXT,                 -- å®¢æˆ¶æå• (JSON æ•¸çµ„)
  outcome ENUM('resolved','converted','followup','abandoned'),  -- å°è©±çµæœ
  sentiment ENUM('positive','neutral','negative'),  -- æƒ…ç·’
  messageCount INT,                       -- è¨Šæ¯æ•¸é‡
  duration INT,                           -- å°è©±æ™‚é•·ï¼ˆç§’ï¼‰
  createdAt TIMESTAMP DEFAULT NOW(),
  FOREIGN KEY (customerId) REFERENCES customers(id)
);
```

#### 3.2.9 teams - åœ˜éšŠè¡¨

```sql
CREATE TABLE teams (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,             -- åœ˜éšŠåç¨±
  description TEXT,                       -- åœ˜éšŠæè¿°
  ownerId INT NOT NULL,                   -- åœ˜éšŠæ“æœ‰è€…
  plan ENUM('basic','pro','enterprise'),  -- è¨‚é–±è¨ˆåŠƒ
  maxMembers INT DEFAULT 5,               -- æœ€å¤§æˆå“¡æ•¸
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP,
  FOREIGN KEY (ownerId) REFERENCES users(id)
);
```

#### 3.2.10 team_members - åœ˜éšŠæˆå“¡è¡¨

```sql
CREATE TABLE team_members (
  id INT PRIMARY KEY AUTO_INCREMENT,
  teamId INT NOT NULL,                    -- é—œè¯åœ˜éšŠ
  userId INT NOT NULL,                    -- é—œè¯ç”¨æˆ¶
  role ENUM('owner','admin','member'),    -- æˆå“¡è§’è‰²
  knowledgeAccess ENUM('full','partial','none'),  -- çŸ¥è­˜åº«å­˜å–æ¬Šé™
  joinedAt TIMESTAMP DEFAULT NOW(),
  FOREIGN KEY (teamId) REFERENCES teams(id),
  FOREIGN KEY (userId) REFERENCES users(id)
);
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šAPI è·¯ç”±è¨­è¨ˆ

### 4.1 tRPC è·¯ç”±çµæ§‹

æ‰€æœ‰ API é€šé tRPC å®šç¾©ï¼Œçµ±ä¸€è·¯å¾‘ç‚º `/api/trpc/*`ï¼š

```typescript
appRouter = {
  // ç³»çµ±
  system: {
    notifyOwner: protectedProcedure,      // é€šçŸ¥é …ç›®æ“æœ‰è€…
  },
  
  // èªè­‰
  auth: {
    me: publicProcedure,                  // ç²å–ç•¶å‰ç”¨æˆ¶è³‡è¨Š
    logout: publicProcedure,              // ç™»å‡º
  },
  
  // AI äººè¨­
  persona: {
    get: protectedProcedure,              // ç²å– AI äººè¨­
    upsert: protectedProcedure,           // å‰µå»º/æ›´æ–° AI äººè¨­
    getPublic: publicProcedure,           // å…¬é–‹ç²å–ï¼ˆç”¨æ–¼ Chat é ï¼‰
  },
  
  // çŸ¥è­˜åº«
  knowledge: {
    list: protectedProcedure,             // åˆ—å‡ºçŸ¥è­˜åº«é …ç›®
    upload: protectedProcedure,           // ä¸Šå‚³æ–‡ä»¶
    addFromSource: protectedProcedure,    // å¾ä¾†æºæ·»åŠ 
    delete: protectedProcedure,           // åˆªé™¤çŸ¥è­˜
    getContent: protectedProcedure,       // ç²å–å…§å®¹
  },
  
  // è¨“ç·´è¨­å®š
  training: {
    get: protectedProcedure,              // ç²å–è¨“ç·´è¨­å®š
    upsert: protectedProcedure,           // æ›´æ–°è¨“ç·´è¨­å®š
    applyTemplate: protectedProcedure,    // å¥—ç”¨æ¨¡æ¿
  },
  
  // è¶…èƒ½åŠ›
  superpowers: {
    get: protectedProcedure,              // ç²å–è¶…èƒ½åŠ›è¨­å®š
    upsert: protectedProcedure,           // æ›´æ–°è¶…èƒ½åŠ›è¨­å®š
  },
  
  // å°è©±
  chat: {
    send: publicProcedure,                // ç™¼é€è¨Šæ¯ï¼ˆå…¬é–‹ï¼‰
    getHistory: publicProcedure,          // ç²å–å°è©±æ­·å²
    endConversation: publicProcedure,     // çµæŸå°è©±ï¼ˆç”Ÿæˆæ‘˜è¦ï¼‰
  },
  
  // çµ±è¨ˆåˆ†æ
  analytics: {
    getStats: protectedProcedure,         // ç²å–çµ±è¨ˆæ•¸æ“š
    getTrends: protectedProcedure,        // ç²å–è¶¨å‹¢æ•¸æ“š
    getTopQuestions: protectedProcedure,  // ç²å–ç†±é–€å•é¡Œ
    getRecentConversations: protectedProcedure,  // ç²å–æœ€è¿‘å°è©±
  },
  
  // å®¢æˆ¶ç®¡ç†
  customer: {
    list: protectedProcedure,             // åˆ—å‡ºå®¢æˆ¶
    get: protectedProcedure,              // ç²å–å®¢æˆ¶è©³æƒ…
    update: protectedProcedure,           // æ›´æ–°å®¢æˆ¶è³‡æ–™
    delete: protectedProcedure,           // åˆªé™¤å®¢æˆ¶
    addMemory: protectedProcedure,        // æ·»åŠ è¨˜æ†¶
    getMemories: protectedProcedure,      // ç²å–è¨˜æ†¶
    getSummaries: protectedProcedure,     // ç²å–å°è©±æ‘˜è¦
  },
  
  // åœ˜éšŠç®¡ç†
  team: {
    get: protectedProcedure,              // ç²å–åœ˜éšŠè³‡è¨Š
    create: protectedProcedure,           // å‰µå»ºåœ˜éšŠ
    update: protectedProcedure,           // æ›´æ–°åœ˜éšŠ
    delete: protectedProcedure,           // åˆªé™¤åœ˜éšŠ
    invite: protectedProcedure,           // é‚€è«‹æˆå“¡
    removeMember: protectedProcedure,     // ç§»é™¤æˆå“¡
    updateMemberRole: protectedProcedure, // æ›´æ–°æˆå“¡è§’è‰²
  },
  
  // å¿«æ·æŒ‰éˆ•
  quickButtons: {
    list: protectedProcedure,             // åˆ—å‡ºå¿«æ·æŒ‰éˆ•
    upsert: protectedProcedure,           // å‰µå»º/æ›´æ–°æŒ‰éˆ•
    delete: protectedProcedure,           // åˆªé™¤æŒ‰éˆ•
    reorder: protectedProcedure,          // é‡æ–°æ’åº
  },
};
```

### 4.2 æ ¸å¿ƒ API è©³è§£

#### 4.2.1 chat.send - ç™¼é€å°è©±è¨Šæ¯

**è¼¸å…¥åƒæ•¸**ï¼š
```typescript
{
  userId: number,           // AI æ“æœ‰è€… ID
  sessionId: string,        // æœƒè©± ID
  message: string,          // ç”¨æˆ¶è¨Šæ¯
  deviceFingerprint?: string  // è¨­å‚™æŒ‡ç´‹ï¼ˆå¯é¸ï¼‰
}
```

**è™•ç†æµç¨‹**ï¼š
1. ç²å– AI äººè¨­ï¼ˆpersonaï¼‰
2. ç²å–è¨“ç·´è¨­å®šï¼ˆtrainingï¼‰
3. ç²å–è¶…èƒ½åŠ›è¨­å®šï¼ˆsuperpowersï¼‰
4. ç²å–çŸ¥è­˜åº«å…§å®¹
5. è­˜åˆ¥æˆ–å‰µå»ºå®¢æˆ¶è¨˜éŒ„
6. ç²å–å®¢æˆ¶è¨˜æ†¶
7. æ§‹å»º System Prompt
8. èª¿ç”¨ LLM API
9. ä¿å­˜å°è©±è¨˜éŒ„
10. è¿”å› AI å›è¦†

#### 4.2.2 chat.endConversation - çµæŸå°è©±

**è¼¸å…¥åƒæ•¸**ï¼š
```typescript
{
  userId: number,           // AI æ“æœ‰è€… ID
  sessionId: string,        // æœƒè©± ID
}
```

**è™•ç†æµç¨‹**ï¼š
1. ç²å–å°è©±æ­·å²
2. èª¿ç”¨ LLM åˆ†æå°è©±å…§å®¹
3. æå–ï¼šå°è©±æ‘˜è¦ã€é—œéµè©±é¡Œã€å®¢æˆ¶æå•ã€å°è©±çµæœ
4. æå–å®¢æˆ¶è³‡æ–™ï¼ˆå§“åã€é›»éƒµã€é›»è©±ã€å…¬å¸ï¼‰
5. æå–å®¢æˆ¶è¨˜æ†¶ï¼ˆåå¥½ã€éœ€æ±‚ã€é¡§æ…®ç­‰ï¼‰
6. åµæ¸¬å®¢æˆ¶æƒ…ç·’
7. ä¿å­˜å°è©±æ‘˜è¦
8. æ›´æ–°å®¢æˆ¶è³‡æ–™
9. ä¿å­˜å®¢æˆ¶è¨˜æ†¶

---

## ç¬¬äº”éƒ¨åˆ†ï¼šæ¥­å‹™é‚è¼¯

### 5.1 AI å°è©±æµç¨‹

```
ç”¨æˆ¶ç™¼é€è¨Šæ¯
    â†“
chat.send API æ¥æ”¶
    â†“
æ§‹å»º System Promptï¼š
â”œâ”€â”€ åŸºç¤äººè¨­ï¼ˆåç¨±ã€æ­¡è¿èªã€è‡ªè¨‚ Promptï¼‰
â”œâ”€â”€ è¨“ç·´è¨­å®šï¼ˆ48é …è©•åˆ†è½‰æ›ç‚ºæŒ‡ä»¤ï¼‰
â”œâ”€â”€ è¶…èƒ½åŠ›è¨­å®šï¼ˆ17é …é–‹é—œè½‰æ›ç‚ºèƒ½åŠ›æè¿°ï¼‰
â”œâ”€â”€ çŸ¥è­˜åº«å…§å®¹ï¼ˆæ‰€æœ‰ ready ç‹€æ…‹çš„çŸ¥è­˜ï¼‰
â””â”€â”€ å®¢æˆ¶è¨˜æ†¶ï¼ˆè©²å®¢æˆ¶çš„æ­·å²è¨˜æ†¶ï¼‰
    â†“
èª¿ç”¨ LLM APIï¼ˆgpt-4o-miniï¼‰
    â†“
ä¿å­˜å°è©±è¨˜éŒ„åˆ° conversations è¡¨
    â†“
è¿”å› AI å›è¦†çµ¦ç”¨æˆ¶
```

### 5.2 å°è©±æ‘˜è¦ç”Ÿæˆæµç¨‹

```
è§¸ç™¼æ¢ä»¶ï¼ˆä¸‰ç¨®ï¼‰ï¼š
â”œâ”€â”€ ç”¨æˆ¶é—œé–‰é é¢ï¼ˆbeforeunloadï¼‰
â”œâ”€â”€ ç”¨æˆ¶åˆ‡æ›æ¨™ç±¤é ï¼ˆvisibilitychangeï¼‰
â””â”€â”€ 5 åˆ†é˜ç„¡æ´»å‹•
    â†“
chat.endConversation API æ¥æ”¶
    â†“
ç²å–å°è©±æ­·å²
    â†“
èª¿ç”¨ LLM åˆ†æï¼Œæå–ï¼š
â”œâ”€â”€ summary: å°è©±æ‘˜è¦
â”œâ”€â”€ topics: é—œéµè©±é¡Œ (JSON æ•¸çµ„)
â”œâ”€â”€ customerQuestions: å®¢æˆ¶æå• (JSON æ•¸çµ„)
â”œâ”€â”€ outcome: å°è©±çµæœ (resolved/converted/followup/abandoned)
â”œâ”€â”€ sentiment: æƒ…ç·’ (positive/neutral/negative)
â”œâ”€â”€ extractedInfo: {
â”‚     name, email, phone, company
â”‚   }
â””â”€â”€ memories: [{
      type, content, confidence
    }]
    â†“
ä¿å­˜å°è©±æ‘˜è¦åˆ° customer_conversation_summaries
    â†“
æ›´æ–°å®¢æˆ¶è³‡æ–™ï¼ˆå¦‚æœ‰æ–°è³‡è¨Šï¼‰
    â†“
ä¿å­˜å®¢æˆ¶è¨˜æ†¶åˆ° customer_memories
    â†“
æ›´æ–°å®¢æˆ¶æƒ…ç·’æ¨™ç±¤
```

### 5.3 è¨“ç·´è¨­å®šè½‰æ›é‚è¼¯

è¨“ç·´è¨­å®šçš„ 48 é …è©•åˆ†æœƒè½‰æ›ç‚º System Prompt ä¸­çš„è¡Œç‚ºæŒ‡ä»¤ï¼š

```typescript
function buildTrainingPrompt(training: Training): string {
  const instructions: string[] = [];
  
  // èªªè©±é¢¨æ ¼
  if (training.humorLevel >= 4) {
    instructions.push("é©ç•¶ä½¿ç”¨å¹½é»˜ï¼Œè®“å°è©±è¼•é¬†æ„‰å¿«");
  }
  if (training.friendlinessLevel >= 4) {
    instructions.push("ä¿æŒå‹å–„è¦ªåˆ‡çš„æ…‹åº¦");
  }
  if (training.formalityLevel >= 4) {
    instructions.push("ä½¿ç”¨æ­£å¼å°ˆæ¥­çš„èªè¨€");
  } else if (training.formalityLevel <= 2) {
    instructions.push("ä½¿ç”¨è¼•é¬†éš¨æ„çš„èªè¨€");
  }
  
  // å›æ‡‰æ–¹å¼
  if (training.responseLength >= 4) {
    instructions.push("æä¾›è©³ç´°å®Œæ•´çš„å›ç­”");
  } else if (training.responseLength <= 2) {
    instructions.push("å›ç­”ç°¡æ½”æ‰¼è¦");
  }
  
  // èªè¨€ç¿’æ…£
  if (training.emojiUsage >= 4) {
    instructions.push("é©ç•¶ä½¿ç”¨è¡¨æƒ…ç¬¦è™Ÿå¢åŠ è¦ªåˆ‡æ„Ÿ");
  }
  if (training.cantoneseUsage >= 4) {
    instructions.push("å¯ä»¥ä½¿ç”¨å»£æ±è©±å£èªè¡¨é”");
  }
  
  // è‡ªè¨‚æŒ‡ä»¤
  if (training.behaviorInstructions) {
    instructions.push(training.behaviorInstructions);
  }
  if (training.prohibitedActions) {
    instructions.push(`ç¦æ­¢è¡Œç‚ºï¼š${training.prohibitedActions}`);
  }
  
  return instructions.join('\n');
}
```

### 5.4 çŸ¥è­˜åº«è™•ç†æµç¨‹

```
ç”¨æˆ¶æ·»åŠ çŸ¥è­˜ (knowledge.upload / knowledge.addFromSource)
    â†“
æ ¹æ“šä¾†æºé¡å‹è™•ç†ï¼š
    â†“
â”œâ”€â”€ æ–‡ä»¶ä¸Šå‚³ (sourceType: 'file')
â”‚   1. Base64 è§£ç¢¼æ–‡ä»¶å…§å®¹
â”‚   2. ä¸Šå‚³åˆ° S3 (storagePut)
â”‚   3. æå–æ–‡æœ¬å…§å®¹ï¼ˆå‰ 50k å­—ç¬¦ï¼‰
â”‚   4. ä¿å­˜åˆ° knowledge_bases
â”‚
â”œâ”€â”€ YouTube å½±ç‰‡ (sourceType: 'youtube')
â”‚   1. è§£æå½±ç‰‡ ID
â”‚   2. èª¿ç”¨ youtube-transcript ç²å–å­—å¹•
â”‚   3. æ‹¼æ¥å­—å¹•æ–‡æœ¬
â”‚   4. ä¿å­˜åˆ° knowledge_bases
â”‚
â”œâ”€â”€ ç¶²é å…§å®¹ (sourceType: 'webpage')
â”‚   1. ä½¿ç”¨ fetch ç²å– HTML
â”‚   2. ä½¿ç”¨ cheerio è§£æ
â”‚   3. æå–ä¸»è¦æ–‡æœ¬å…§å®¹
â”‚   4. ä¿å­˜åˆ° knowledge_bases
â”‚
â”œâ”€â”€ ç›´æ¥æ–‡å­— (sourceType: 'text')
â”‚   1. ç›´æ¥ä¿å­˜ content
â”‚   2. ä¿å­˜åˆ° knowledge_bases
â”‚
â””â”€â”€ FAQ å•ç­”å° (sourceType: 'faq')
    1. è§£æ JSON æ ¼å¼çš„å•ç­”å°
    2. æ ¼å¼åŒ–ç‚º Q&A æ–‡æœ¬
    3. ä¿å­˜åˆ° knowledge_bases
    â†“
å°è©±æ™‚ä½¿ç”¨ï¼š
    â†“
getKnowledgeContentByUserId ç²å–æ‰€æœ‰ ready ç‹€æ…‹å…§å®¹
    â†“
æ‹¼æ¥åˆ° System Prompt
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šå‰ç«¯é é¢çµæ§‹

### 6.1 å°èˆªçµæ§‹

```
å„€è¡¨æ¿ï¼ˆè—è‰² #3B82F6ï¼‰
â””â”€â”€ å„€è¡¨æ¿ /                    # çµ±è¨ˆå¡ç‰‡ + è¶¨å‹¢åœ– + ç†±é–€å•é¡Œ

å®¢æˆ¶å‰ç«¯ï¼ˆç¶ è‰² #10B981ï¼‰
â”œâ”€â”€ ç‰ˆé¢è¨­å®š /appearance        # AI è¨­å®š + ç‰ˆé¢é¢¨æ ¼ + å¿«æ·æŒ‰éˆ•
â”œâ”€â”€ å®¢æˆ¶è¨˜æ†¶ /customers         # å®¢æˆ¶åˆ—è¡¨ + è©³æƒ… + è¨˜æ†¶ç®¡ç†
â””â”€â”€ å°ˆå±¬ç¶²å€ /domain            # è‡ªè¨‚åŸŸåè¨­å®š

AI å¤§è…¦ï¼ˆç´«è‰² #8B5CF6ï¼‰
â”œâ”€â”€ è¨“ç·´æ™ºèƒ½é«” /training        # 8 ç¶­åº¦ 48 é …è©•åˆ† + æ¨¡æ¿
â”œâ”€â”€ é–‹ç™¼è¶…èƒ½åŠ› /superpowers     # 17 é …è¶…èƒ½åŠ›é–‹é—œ
â””â”€â”€ çŸ¥è­˜åº« /knowledge           # 5 ç¨®ä¾†æºçŸ¥è­˜ç®¡ç†

é–‹ç™¼è€…ï¼ˆé’è‰² #06B6D4ï¼‰
â”œâ”€â”€ Widget åµŒå…¥ /widget         # åµŒå…¥ä»£ç¢¼ç”Ÿæˆ + é è¦½
â””â”€â”€ API æ–‡æª” /api-docs          # API ä½¿ç”¨èªªæ˜

è¨­å®šï¼ˆæ©™è‰² #F59E0Bï¼‰
â”œâ”€â”€ åœ˜éšŠç®¡ç† /team              # åœ˜éšŠè³‡æ–™ + æˆå“¡ + çŸ¥è­˜åº«
â”œâ”€â”€ å¸³æˆ¶è¨­å®š /account           # å€‹äººè³‡æ–™
â””â”€â”€ æœƒå“¡è¨ˆåŠƒ /pricing           # å®šåƒ¹ + è¨‚é–±
```

### 6.2 é é¢åŠŸèƒ½è©³è§£

| é é¢ | è·¯å¾‘ | ä¸»è¦åŠŸèƒ½ |
|-----|------|---------|
| å„€è¡¨æ¿ | / | 4 å€‹çµ±è¨ˆå¡ç‰‡ã€å°ˆå±¬é€£çµã€è¶¨å‹¢åœ–ã€ç†±é–€å•é¡Œã€æœ€è¿‘å°è©± |
| ç‰ˆé¢è¨­å®š | /appearance | AI è¨­å®šã€ç‰ˆé¢é¢¨æ ¼ã€å¿«æ·æŒ‰éˆ•ã€é€²éšè¨­å®š |
| è¨“ç·´æ™ºèƒ½é«” | /training | 6 å€‹å¿«é€Ÿæ¨¡æ¿ã€8 ç¶­åº¦è©•åˆ†æ»‘æ¡¿ã€è‡ªè¨‚æŒ‡ä»¤ |
| é–‹ç™¼è¶…èƒ½åŠ› | /superpowers | 5 é¡åˆ¥ 17 é …é–‹é—œã€èƒ½åŠ›å°æ¯”ã€æˆå°±å¾½ç«  |
| çŸ¥è­˜åº« | /knowledge | 5 ç¨®ä¾†æºæ¨™ç±¤ã€æ–‡ä»¶ä¸Šå‚³ã€å…§å®¹ç®¡ç† |
| å®¢æˆ¶è¨˜æ†¶ | /customers | å®¢æˆ¶åˆ—è¡¨ã€è©³æƒ…å´é‚Šæ¬„ã€è¨˜æ†¶ç®¡ç†ã€æ‘˜è¦æ™‚é–“ç·š |
| Widget åµŒå…¥ | /widget | ä½ç½®/å¤§å°è¨­å®šã€å³æ™‚é è¦½ã€åµŒå…¥ä»£ç¢¼ |
| å°ˆå±¬ç¶²å€ | /domain | è‡ªè¨‚åŸŸåè¨­å®š |
| åœ˜éšŠç®¡ç† | /team | åœ˜éšŠè³‡æ–™ã€æˆå“¡ç®¡ç†ã€åœ˜éšŠçŸ¥è­˜åº« |
| æœƒå“¡è¨ˆåŠƒ | /pricing | å€‹äºº/åœ˜éšŠè¨ˆåŠƒã€å®šåƒ¹è¡¨ |
| å…¬é–‹å°è©± | /chat/:userId | è¨ªå®¢å°è©±ä»‹é¢ |

---

## ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæœƒå“¡è¨ˆåŠƒå®šåƒ¹

### 7.1 å€‹äººè¨ˆåŠƒ

| è¨ˆåŠƒ | æœˆè²» | å°è©±æ¬¡æ•¸ | çŸ¥è­˜åº« | å®¢æˆ¶è¨˜æ†¶ |
|-----|------|---------|-------|---------|
| å…è²»ç‰ˆ | HK$0 | 250 æ¬¡/æœˆ | 3 å€‹æ–‡ä»¶ | 10 ä½å®¢æˆ¶ |
| åŸºæœ¬ç‰ˆ | HK$299 | 5,000 æ¬¡/æœˆ | 20 å€‹æ–‡ä»¶ | 100 ä½å®¢æˆ¶ |
| Premium | HK$599 | 50,000 æ¬¡/æœˆ | ç„¡é™ | ç„¡é™ |

### 7.2 åœ˜éšŠè¨ˆåŠƒ

| è¨ˆåŠƒ | æœˆè²» | å°è©±æ¬¡æ•¸ | æˆå“¡æ•¸ | åœ˜éšŠçŸ¥è­˜åº« |
|-----|------|---------|-------|----------|
| åœ˜éšŠåŸºç¤ | HK$299 | 10,000 æ¬¡/æœˆ | 5 äºº | 100 MB |
| åœ˜éšŠå°ˆæ¥­ | HK$599 | 30,000 æ¬¡/æœˆ | 15 äºº | 500 MB |
| ä¼æ¥­ç‰ˆ | HK$1,299 | 100,000 æ¬¡/æœˆ | 50 äºº | 2 GB |

---

## ç¬¬å…«éƒ¨åˆ†ï¼šæ¸¬è©¦è¦†è“‹

| æ¸¬è©¦æ–‡ä»¶ | æ¸¬è©¦å…§å®¹ | æ¸¬è©¦æ•¸é‡ |
|---------|---------|---------|
| auth.logout.test.ts | ç™»å‡ºåŠŸèƒ½ | 3 |
| persona.test.ts | AI äººè¨­ CRUD | 8 |
| appearance.test.ts | ç‰ˆé¢è¨­å®š | 6 |
| analytics.test.ts | çµ±è¨ˆåŠŸèƒ½ | 5 |
| training.test.ts | è¨“ç·´è¨­å®š | 7 |
| superpowers.test.ts | è¶…èƒ½åŠ›è¨­å®š | 5 |
| knowledge.test.ts | çŸ¥è­˜åº«ç®¡ç† | 22 |
| team.test.ts | åœ˜éšŠç®¡ç† | 26 |
| customer.test.ts | å®¢æˆ¶è¨˜æ†¶ | 25 |
| conversationSummary.test.ts | å°è©±æ‘˜è¦ | 20 |

**ç¸½è¨ˆ**ï¼š127 é …æ¸¬è©¦

---

## ç¬¬ä¹éƒ¨åˆ†ï¼šé‡å»ºæŒ‡å—

### 9.1 å¾é›¶é–‹å§‹é‡å»ºæ­¥é©Ÿ

å¦‚æœéœ€è¦åœ¨æ–°ç’°å¢ƒä¸­å®Œå…¨é‡å»ºæ­¤å¹³å°ï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼š

**æ­¥é©Ÿ 1ï¼šç’°å¢ƒæº–å‚™**

```bash
# ç¢ºä¿å®‰è£ Node.js 22+ å’Œ pnpm
node --version  # æ‡‰ç‚º 22.x
pnpm --version  # æ‡‰å·²å®‰è£

# å‰µå»ºé …ç›®ç›®éŒ„
mkdir ai_agent_ui && cd ai_agent_ui
```

**æ­¥é©Ÿ 2ï¼šåˆå§‹åŒ–é …ç›®**

ä½¿ç”¨ Manus webdev æ¨¡æ¿åˆå§‹åŒ–ï¼š
- é¸æ“‡ `web-db-user` åŠŸèƒ½ï¼ˆåŒ…å«æ•¸æ“šåº«ã€æœå‹™å™¨ã€ç”¨æˆ¶èªè­‰ï¼‰
- é …ç›®åç¨±ï¼šai_agent_ui

**æ­¥é©Ÿ 3ï¼šæ•¸æ“šåº«è¨­ç½®**

1. è¤‡è£½ `drizzle/schema.ts` ä¸­çš„æ‰€æœ‰è¡¨å®šç¾©
2. é‹è¡Œ `pnpm db:push` æ¨é€æ•¸æ“šåº«çµæ§‹

**æ­¥é©Ÿ 4ï¼šå¾Œç«¯ä»£ç¢¼**

1. è¤‡è£½ `server/routers.ts` ä¸­çš„æ‰€æœ‰ tRPC è·¯ç”±
2. è¤‡è£½ `server/db.ts` ä¸­çš„æ•¸æ“šåº«æ“ä½œå‡½æ•¸
3. è¤‡è£½ `server/knowledgeSourceService.ts` çŸ¥è­˜ä¾†æºæœå‹™

**æ­¥é©Ÿ 5ï¼šå‰ç«¯ä»£ç¢¼**

1. è¤‡è£½ `client/src/index.css` é…è‰²æ–¹æ¡ˆ
2. è¤‡è£½ `client/src/App.tsx` è·¯ç”±é…ç½®
3. è¤‡è£½ `client/src/components/DashboardLayout.tsx` å´é‚Šæ¬„
4. è¤‡è£½æ‰€æœ‰ `client/src/pages/*.tsx` é é¢çµ„ä»¶

**æ­¥é©Ÿ 6ï¼šLogo å’Œè³‡æº**

1. å°‡ Logo æ–‡ä»¶æ”¾å…¥ `client/public/`
2. æ›´æ–° `client/index.html` ä¸­çš„ favicon è¨­å®š

**æ­¥é©Ÿ 7ï¼šæ¸¬è©¦é©—è­‰**

```bash
# é‹è¡Œæ¸¬è©¦
pnpm test

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
pnpm dev
```

### 9.2 é—œéµé…ç½®æ¸…å–®

| é…ç½®é … | æ–‡ä»¶ä½ç½® | èªªæ˜ |
|-------|---------|------|
| é…è‰²æ–¹æ¡ˆ | client/src/index.css | CSS è®Šæ•¸å®šç¾© |
| è·¯ç”±é…ç½® | client/src/App.tsx | é é¢è·¯ç”±æ˜ å°„ |
| æ•¸æ“šåº«çµæ§‹ | drizzle/schema.ts | è¡¨çµæ§‹å®šç¾© |
| API è·¯ç”± | server/routers.ts | tRPC è·¯ç”±å®šç¾© |
| æ•¸æ“šåº«æ“ä½œ | server/db.ts | æŸ¥è©¢å‡½æ•¸ |
| Logo | client/public/logo.png | å“ç‰Œæ¨™è­˜ |
| Favicon | client/public/favicon.ico | ç¶²ç«™åœ–æ¨™ |

### 9.3 ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ ID | æ—¥æœŸ | ä¸»è¦è®Šæ›´ |
|--------|------|---------|
| e98e87d8 | 2026-01-01 | åˆå§‹ç‰ˆæœ¬ |
| 1155af3 | 2026-01-02 | å®šåƒ¹èª¿æ•´ã€PROJECT_SUMMARY |
| 689e1da | 2026-01-02 | é–‹ç™¼è€…å°èˆªã€å®Œæ•´æŠ€è¡“æ–‡æª” |
| 8747e89 | 2026-01-02 | æ”¹å Lulubabyã€Logo è¨­è¨ˆ |
| af66bf4b | 2026-01-02 | Logo æ‡‰ç”¨ã€æŠ€è¡“è—åœ– |

---

## ç¬¬åéƒ¨åˆ†ï¼šå¾…å¯¦ç¾åŠŸèƒ½

### 10.1 MVP å¾…å®Œæˆ

| åŠŸèƒ½ | å„ªå…ˆç´š | èªªæ˜ |
|-----|-------|------|
| Stripe æ”¯ä»˜æ•´åˆ | é«˜ | è¨‚é–±ä»˜æ¬¾åŠŸèƒ½ |
| ç”¨é‡é™åˆ¶æª¢æŸ¥ | é«˜ | æ ¹æ“šè¨ˆåŠƒé™åˆ¶å°è©±æ¬¡æ•¸ |
| widget.js å¾Œç«¯å¯¦ç¾ | é«˜ | åµŒå…¥å¼å°è©±çµ„ä»¶ |

### 10.2 ç¬¬äºŒéšæ®µåŠŸèƒ½

| åŠŸèƒ½ | èªªæ˜ |
|-----|------|
| Premium è¨ˆåŠƒé–‹æ”¾ | é«˜ç´šåŠŸèƒ½è§£é– |
| é€²éšæ•¸æ“šåˆ†æ | æ›´è©³ç´°çš„çµ±è¨ˆå ±è¡¨ |
| å®¢æˆ¶æ¨™ç±¤å’Œåˆ†ç¾¤ | å®¢æˆ¶åˆ†é¡ç®¡ç† |
| æ‰¹é‡å°å…¥çŸ¥è­˜åº« | æ‰¹é‡ä¸Šå‚³æ–‡ä»¶ |
| å°è©±å°å‡ºåŠŸèƒ½ | å°å‡ºå°è©±è¨˜éŒ„ |

### 10.3 ç¬¬ä¸‰éšæ®µåŠŸèƒ½

| åŠŸèƒ½ | èªªæ˜ |
|-----|------|
| åœ˜éšŠè¨ˆåŠƒé–‹æ”¾ | å¤šäººå”ä½œåŠŸèƒ½ |
| API å­˜å– | é–‹ç™¼è€… API |
| è‡ªè¨‚åŸŸå | ç¶å®šè‡ªæœ‰åŸŸå |
| SSO æ•´åˆ | ä¼æ¥­å–®é»ç™»å…¥ |
| é€²éšæ¬Šé™ç®¡ç† | ç´°ç²’åº¦æ¬Šé™æ§åˆ¶ |

---

## é™„éŒ„ Aï¼šé‡è¦æ±ºç­–è¨˜éŒ„

| æ—¥æœŸ | æ±ºç­– | åŸå›  |
|-----|------|------|
| 2026-01-02 | åŸºæœ¬ç‰ˆåƒ¹æ ¼æ”¹ç‚º HK$299 | çµ±ä¸€å®šåƒ¹ç­–ç•¥ |
| 2026-01-02 | Premium åƒ¹æ ¼å¾ HK$399 èª¿æ•´ç‚º HK$599 | æé«˜åˆ©æ½¤ç‡ |
| 2026-01-02 | ä¼æ¥­ç‰ˆæˆå“¡ä¸Šé™è¨­ç‚º 50 äºº | æ§åˆ¶æˆæœ¬é¢¨éšª |
| 2026-01-02 | ç§»é™¤ Email å®¢æœæ”¯æ´ | ç°¡åŒ– MVP åŠŸèƒ½ |
| 2026-01-02 | å°èˆªåˆ—åˆ†ç‚ºäº”å¤§é¡åˆ¥ | æ”¹å–„ç”¨æˆ¶é«”é©— |
| 2026-01-02 | æ·»åŠ é–‹ç™¼è€…é¡åˆ¥ | æ”¾ç½® Widget å’Œ API æ–‡æª” |
| 2026-01-02 | çŸ¥è­˜åº«æ”¯æ´ 5 ç¨®ä¾†æº | æå‡çŸ¥è­˜ç²å–éˆæ´»æ€§ |
| 2026-01-02 | å°è©±çµæŸè‡ªå‹•ç”Ÿæˆæ‘˜è¦ | å¢å¼·å®¢æˆ¶è¨˜æ†¶åŠŸèƒ½ |
| 2026-01-02 | é¸å®šçœ¨çœ¼å°è©±æ°£æ³¡ Logo | å‚³é”å‹å–„ã€å°ˆæ¥­çš„å“ç‰Œå½¢è±¡ |

---

## é™„éŒ„ Bï¼šçµ¦å…¶ä»– AI å¹³å°çš„å¯©é–±æç¤º

å¦‚æœæ‚¨å°‡æ­¤æ–‡æª”æäº¤çµ¦å…¶ä»– AI å¹³å°å¯©é–±æˆ–ç¹¼çºŒé–‹ç™¼ï¼Œå»ºè­°é—œæ³¨ï¼š

**æ¶æ§‹å•é¡Œ**ï¼š
1. tRPC + Drizzle ORM çš„æŠ€è¡“é¸å‹æ˜¯å¦é©åˆæ­¤é¡ SaaS æ‡‰ç”¨ï¼Ÿ
2. å°‡ 48 å€‹è¨“ç·´åƒæ•¸å­˜ç‚ºå–®ç¨æ¬„ä½æ˜¯å¦åˆç†ï¼Ÿæ˜¯å¦æ‡‰è©²ç”¨ JSON æ¬„ä½ï¼Ÿ
3. çŸ¥è­˜åº«ç›´æ¥å­˜å„²æ–‡æœ¬å…§å®¹æ˜¯å¦æœ‰æ›´å¥½æ–¹æ¡ˆï¼ˆå¦‚å‘é‡æœç´¢ï¼‰ï¼Ÿ

**å®‰å…¨å•é¡Œ**ï¼š
4. `publicProcedure` çš„ `chat.send` æ˜¯å¦æœ‰è¢«æ¿«ç”¨çš„é¢¨éšªï¼Ÿ
5. System Prompt æ³¨å…¥æ”»æ“Šå¦‚ä½•é˜²ç¯„ï¼Ÿ
6. Widget è·¨åŸŸåµŒå…¥çš„å®‰å…¨è€ƒæ…®ï¼Ÿ

**æ€§èƒ½å•é¡Œ**ï¼š
7. æ¯æ¬¡å°è©±éƒ½è®€å–å…¨éƒ¨çŸ¥è­˜åº«å…§å®¹ï¼Œæœ‰ä»€éº¼å„ªåŒ–æ–¹æ¡ˆï¼Ÿ
8. å°è©±æ­·å²ç„¡é™å¢é•·å¦‚ä½•è™•ç†ï¼Ÿ
9. 48 é …è¨“ç·´åƒæ•¸å¦‚ä½•é«˜æ•ˆè½‰æ›ç‚º System Promptï¼Ÿ

---

> **æ–‡æª”ç¶­è­·æç¤º**ï¼šæ­¤æ–‡æª”æ‡‰åœ¨æ¯æ¬¡é‡å¤§æ›´æ–°å¾Œæ›´æ–°ï¼Œç¢ºä¿å§‹çµ‚åæ˜ é …ç›®æœ€æ–°ç‹€æ…‹ã€‚
>
> **ç‰ˆæœ¬**ï¼šaf66bf4b  
> **æœ€å¾Œæ›´æ–°**ï¼š2026å¹´1æœˆ2æ—¥
