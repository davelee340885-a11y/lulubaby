# Lulubaby å¹³å°å®Œæ•´é‡å»ºæŒ‡å—

> **æ–‡æª”ç”¨é€”**ï¼šæ­¤æ–‡æª”æ˜¯ Lulubaby å¹³å°çš„å®Œæ•´æŠ€è¡“è¦æ ¼æ›¸ï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½æ¨¡çµ„ã€æ•¸æ“šåº«è¨­è¨ˆã€API æ¥å£ã€ç¬¬ä¸‰æ–¹æœå‹™æ•´åˆçš„è©³ç´°èªªæ˜ã€‚ç„¡è«–æ˜¯ AI åŠ©æ‰‹é‚„æ˜¯äººé¡é–‹ç™¼è€…ï¼Œéƒ½å¯ä»¥æ ¹æ“šæ­¤æ–‡æª”å¾é›¶é–‹å§‹é‡å»ºæ•´å€‹å¹³å°ã€‚
>
> **ç‰ˆæœ¬**ï¼šv1.0  
> **æœ€å¾Œæ›´æ–°**ï¼š2026å¹´1æœˆ6æ—¥  
> **ä½œè€…**ï¼šManus AI  
> **è®Šæ›´æ—¥èªŒ**ï¼šLULUBABY_CHANGELOG.md

---

## ç›®éŒ„

1. [å¹³å°æ¦‚è¿°](#ç¬¬ä¸€éƒ¨åˆ†å¹³å°æ¦‚è¿°)
2. [æŠ€è¡“æ¶æ§‹](#ç¬¬äºŒéƒ¨åˆ†æŠ€è¡“æ¶æ§‹)
3. [æ•¸æ“šåº«è¨­è¨ˆ](#ç¬¬ä¸‰éƒ¨åˆ†æ•¸æ“šåº«è¨­è¨ˆ)
4. [æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„](#ç¬¬å››éƒ¨åˆ†æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„)
5. [è‡ªè¨‚ç¶²åŸŸç³»çµ±](#ç¬¬äº”éƒ¨åˆ†è‡ªè¨‚ç¶²åŸŸç³»çµ±)
6. [ç¬¬ä¸‰æ–¹æœå‹™æ•´åˆ](#ç¬¬å…­éƒ¨åˆ†ç¬¬ä¸‰æ–¹æœå‹™æ•´åˆ)
7. [å‰ç«¯çµ„ä»¶çµæ§‹](#ç¬¬ä¸ƒéƒ¨åˆ†å‰ç«¯çµ„ä»¶çµæ§‹)
8. [API è·¯ç”±å®Œæ•´æ¸…å–®](#ç¬¬å…«éƒ¨åˆ†api-è·¯ç”±å®Œæ•´æ¸…å–®)
9. [éƒ¨ç½²èˆ‡é…ç½®](#ç¬¬ä¹éƒ¨åˆ†éƒ¨ç½²èˆ‡é…ç½®)
10. [é‡å»ºæ­¥é©ŸæŒ‡å—](#ç¬¬åéƒ¨åˆ†é‡å»ºæ­¥é©ŸæŒ‡å—)

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šå¹³å°æ¦‚è¿°

### 1.1 ç”¢å“å®šç¾©

**Lulubaby** æ˜¯ä¸€å€‹å€‹äººåŒ– AI æ™ºèƒ½é«”å¹³å°ï¼Œè®“ç”¨æˆ¶ï¼ˆä¸­å°ä¼æ¥­ä¸»ã€ä¿éšªéŠ·å”®ã€å€‹äººå‰µæ¥­è€…ï¼‰èƒ½å¤ å¿«é€Ÿå‰µå»ºå°ˆå±¬çš„ AI å®¢æœåŠ©æ‰‹ã€‚å¹³å°çš„æ ¸å¿ƒåƒ¹å€¼åœ¨æ–¼è®“éæŠ€è¡“ç”¨æˆ¶ä¹Ÿèƒ½è¨“ç·´ AIã€ç®¡ç†çŸ¥è­˜åº«ã€ä¸¦é€éè‡ªè¨‚åŸŸåç™¼å¸ƒå°ˆæ¥­çš„å°è©±ä»‹é¢ã€‚

**å“ç‰Œåç¨±å«ç¾©**ï¼šã€ŒLuã€å–è‡ªé›»å½±ã€ŠLucyã€‹ä¸­é–‹ç™¼å¤§è…¦ 100% çš„è¶…èƒ½åŠ›è§’è‰²ï¼Œã€ŒBabyã€ä»£è¡¨å¯æ„›çš„è¶…èƒ½åŠ›å¯¶è²ï¼Œæˆç‚ºæ¯ä¸€å€‹äººçš„ AI åŠ©æ‰‹ã€‚

### 1.2 ç›®æ¨™ç”¨æˆ¶èˆ‡ä½¿ç”¨å ´æ™¯

| ç”¨æˆ¶é¡å‹ | ä½¿ç”¨å ´æ™¯ | æ ¸å¿ƒéœ€æ±‚ |
|---------|---------|---------|
| ä¸­å°ä¼æ¥­ä¸» | é›»å•†å®¢æœã€æœå‹™æ¥­è«®è©¢ | 24å°æ™‚è‡ªå‹•å›è¦†å®¢æˆ¶å•é¡Œ |
| ä¿éšª/é‡‘èéŠ·å”® | ç”¢å“ä»‹ç´¹ã€å®¢æˆ¶è·Ÿé€² | å€‹æ€§åŒ–éŠ·å”®è©±è¡“ã€å®¢æˆ¶è¨˜æ†¶ |
| å€‹äººå‰µæ¥­è€… | ç”¢å“æ¨å»£ã€å®¢æˆ¶æ”¯æ´ | ä½æˆæœ¬å»ºç«‹å°ˆæ¥­å®¢æœå½¢è±¡ |
| å°ˆæ¥­æœå‹™æ¥­ | å¾‹å¸«ã€æœƒè¨ˆå¸«ã€é¡§å• | åˆæ­¥è«®è©¢è‡ªå‹•åŒ–ã€é ç´„ç®¡ç† |

### 1.3 æ ¸å¿ƒåŠŸèƒ½æ¸…å–®

å¹³å°åŒ…å«ä»¥ä¸‹ä¸»è¦åŠŸèƒ½æ¨¡çµ„ï¼š

**AI æ™ºèƒ½é«”é…ç½®**ï¼šAI äººè¨­è¨­å®šã€48 é …æ€§æ ¼è©•åˆ†ã€17 é …è¶…èƒ½åŠ›é–‹é—œã€çŸ¥è­˜åº«ç®¡ç†ï¼ˆæ”¯æ´æ–‡ä»¶ã€YouTubeã€ç¶²é ã€FAQ ç­‰ä¾†æºï¼‰ã€‚

**å®¢æˆ¶é—œä¿‚ç®¡ç†**ï¼šå®¢æˆ¶è­˜åˆ¥èˆ‡è¨˜æ†¶ã€å°è©±æ‘˜è¦è‡ªå‹•ç”Ÿæˆã€å®¢æˆ¶æƒ…ç·’åˆ†æã€å°è©±æ­·å²è¿½è¹¤ã€‚

**ç‰ˆé¢èˆ‡å“ç‰Œ**ï¼šä¸‰ç¨®ä½ˆå±€é¢¨æ ¼ï¼ˆç°¡ç´„ã€å°ˆæ¥­åç‰‡ã€è‡ªè¨‚èƒŒæ™¯ï¼‰ã€å¿«æ·æŒ‰éˆ•é…ç½®ã€ä¸»é¡Œé¡è‰²è‡ªè¨‚ã€‚

**è‡ªè¨‚ç¶²åŸŸç³»çµ±**ï¼šåŸŸåæœç´¢èˆ‡è³¼è²·ã€Stripe æ”¯ä»˜æ•´åˆã€Cloudflare DNS è‡ªå‹•é…ç½®ã€SSL è­‰æ›¸è‡ªå‹•ç”³è«‹ã€‚

**æ•¸æ“šåˆ†æ**ï¼šå°è©±çµ±è¨ˆã€ç†±é–€å•é¡Œæ’è¡Œã€å®¢æˆ¶è¡Œç‚ºåˆ†æã€‚

**æœƒå“¡èˆ‡è¨ˆè²»**ï¼šå…è²»/åŸºæœ¬/Premium ä¸‰ç´šæœƒå“¡ã€ä½¿ç”¨é‡è¿½è¹¤ã€åœ˜éšŠè¨ˆåŠƒã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€è¡“æ¶æ§‹

### 2.1 æŠ€è¡“æ£§ç¸½è¦½

| å±¤ç´š | æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|------|------|
| å‰ç«¯æ¡†æ¶ | React | 19 | UI æ¸²æŸ“å’Œçµ„ä»¶åŒ– |
| æ¨£å¼ç³»çµ± | Tailwind CSS | 4 | åŸå­åŒ– CSS æ¨£å¼ |
| UI çµ„ä»¶åº« | shadcn/ui | æœ€æ–° | é è£½ UI çµ„ä»¶ |
| è·¯ç”± | wouter | - | è¼•é‡ç´šå®¢æˆ¶ç«¯è·¯ç”± |
| ç‹€æ…‹ç®¡ç† | tRPC + React Query | 11 | é¡å‹å®‰å…¨çš„æ•¸æ“šç²å– |
| å¾Œç«¯æ¡†æ¶ | Express | 4 | HTTP æœå‹™å™¨ |
| API å±¤ | tRPC | 11 | ç«¯åˆ°ç«¯é¡å‹å®‰å…¨ API |
| æ•¸æ“šåº« | MySQL / TiDB | - | é—œä¿‚å‹æ•¸æ“šæŒä¹…åŒ– |
| ORM | Drizzle ORM | - | é¡å‹å®‰å…¨æ•¸æ“šåº«æ“ä½œ |
| èªè­‰ | Manus OAuth | - | ç”¨æˆ¶èº«ä»½èªè­‰ |
| æ–‡ä»¶å­˜å„² | S3 | - | æ–‡ä»¶å’Œåœ–ç‰‡å­˜å„² |
| AI æœå‹™ | Manus LLM API | gpt-4o-mini | AI å°è©±ç”Ÿæˆ |
| åŸŸåè¨»å†Š | Name.com API | v4 | åŸŸåæœç´¢èˆ‡è³¼è²· |
| DNS ç®¡ç† | Cloudflare API | v4 | DNS é…ç½®èˆ‡ SSL |
| æ”¯ä»˜è™•ç† | Stripe | - | åŸŸåè³¼è²·æ”¯ä»˜ |

### 2.2 é …ç›®ç›®éŒ„çµæ§‹

```
/home/ubuntu/ai_agent_ui/
â”œâ”€â”€ client/                              # å‰ç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ index.html                       # HTML å…¥å£
â”‚   â”œâ”€â”€ public/                          # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ logo.png                     # ä¸» Logo
â”‚   â”‚   â””â”€â”€ favicon.ico                  # ç¶²ç«™åœ–æ¨™
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ App.tsx                      # è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ main.tsx                     # æ‡‰ç”¨å…¥å£
â”‚       â”œâ”€â”€ index.css                    # å…¨å±€æ¨£å¼
â”‚       â”œâ”€â”€ pages/                       # é é¢çµ„ä»¶
â”‚       â”‚   â”œâ”€â”€ Dashboard.tsx            # å„€è¡¨æ¿
â”‚       â”‚   â”œâ”€â”€ Appearance.tsx           # ç‰ˆé¢è¨­å®š
â”‚       â”‚   â”œâ”€â”€ Training.tsx             # è¨“ç·´æ™ºèƒ½é«”
â”‚       â”‚   â”œâ”€â”€ Superpowers.tsx          # é–‹ç™¼è¶…èƒ½åŠ›
â”‚       â”‚   â”œâ”€â”€ Knowledge.tsx            # çŸ¥è­˜åº«
â”‚       â”‚   â”œâ”€â”€ Customers.tsx            # å®¢æˆ¶è¨˜æ†¶
â”‚       â”‚   â”œâ”€â”€ Domain.tsx               # å°ˆå±¬ç¶²å€
â”‚       â”‚   â”œâ”€â”€ Chat.tsx                 # å…¬é–‹å°è©±é 
â”‚       â”‚   â”œâ”€â”€ CustomDomainChat.tsx     # è‡ªè¨‚åŸŸåå°è©±é 
â”‚       â”‚   â”œâ”€â”€ Pricing.tsx              # æœƒå“¡è¨ˆåŠƒ
â”‚       â”‚   â””â”€â”€ Account.tsx              # å¸³æˆ¶è¨­å®š
â”‚       â”œâ”€â”€ components/                  # å¯é‡ç”¨çµ„ä»¶
â”‚       â”‚   â”œâ”€â”€ DashboardLayout.tsx      # å´é‚Šæ¬„ä½ˆå±€
â”‚       â”‚   â”œâ”€â”€ AIChatBox.tsx            # èŠå¤©çµ„ä»¶
â”‚       â”‚   â”œâ”€â”€ CompactChatPreview.tsx   # ç‰ˆé¢é è¦½çµ„ä»¶
â”‚       â”‚   â””â”€â”€ ui/                      # shadcn/ui çµ„ä»¶
â”‚       â””â”€â”€ lib/
â”‚           â”œâ”€â”€ trpc.ts                  # tRPC å®¢æˆ¶ç«¯
â”‚           â””â”€â”€ utils.ts                 # å·¥å…·å‡½æ•¸
â”œâ”€â”€ server/                              # å¾Œç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ routers.ts                       # tRPC è·¯ç”±å®šç¾©
â”‚   â”œâ”€â”€ db.ts                            # æ•¸æ“šåº«æ“ä½œå‡½æ•¸
â”‚   â”œâ”€â”€ storage.ts                       # S3 å­˜å„²æ“ä½œ
â”‚   â”œâ”€â”€ namecom.ts                       # Name.com API å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ cloudflare.ts                # Cloudflare API å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ webhooks/
â”‚   â”‚   â””â”€â”€ stripe.ts                    # Stripe Webhook è™•ç†å™¨
â”‚   â””â”€â”€ _core/                           # æ ¸å¿ƒæ¨¡çµ„
â”‚       â”œâ”€â”€ llm.ts                       # LLM èª¿ç”¨å°è£
â”‚       â”œâ”€â”€ oauth.ts                     # OAuth èªè­‰
â”‚       â””â”€â”€ env.ts                       # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ drizzle/                             # æ•¸æ“šåº« Schema
â”‚   â””â”€â”€ schema.ts                        # è¡¨çµæ§‹å®šç¾©
â”œâ”€â”€ shared/                              # å…±äº«é¡å‹
â”‚   â”œâ”€â”€ types.ts                         # TypeScript é¡å‹
â”‚   â”œâ”€â”€ currency.ts                      # è²¨å¹£è™•ç†
â”‚   â””â”€â”€ tldConfig.ts                     # TLD é…ç½®
â””â”€â”€ package.json                         # ä¾è³´é…ç½®
```

### 2.3 ç’°å¢ƒè®Šæ•¸é…ç½®

| è®Šæ•¸å | ç”¨é€” | ä¾†æº |
|-------|------|------|
| DATABASE_URL | MySQL/TiDB é€£æ¥å­—ç¬¦ä¸² | ç³»çµ±æ³¨å…¥ |
| JWT_SECRET | Session Cookie ç°½åå¯†é‘° | ç³»çµ±æ³¨å…¥ |
| VITE_APP_ID | Manus OAuth æ‡‰ç”¨ ID | ç³»çµ±æ³¨å…¥ |
| OAUTH_SERVER_URL | OAuth å¾Œç«¯ URL | ç³»çµ±æ³¨å…¥ |
| BUILT_IN_FORGE_API_URL | LLM API URL | ç³»çµ±æ³¨å…¥ |
| BUILT_IN_FORGE_API_KEY | LLM API å¯†é‘° | ç³»çµ±æ³¨å…¥ |
| NAMECOM_USERNAME | Name.com API ç”¨æˆ¶å | æ‰‹å‹•é…ç½® |
| NAMECOM_API_TOKEN | Name.com API Token | æ‰‹å‹•é…ç½® |
| CLOUDFLARE_API_TOKEN | Cloudflare API Token | æ‰‹å‹•é…ç½® |
| CLOUDFLARE_ACCOUNT_ID | Cloudflare å¸³æˆ¶ ID | æ‰‹å‹•é…ç½® |
| STRIPE_SECRET_KEY | Stripe å¯†é‘° | æ‰‹å‹•é…ç½® |
| STRIPE_WEBHOOK_SECRET | Stripe Webhook ç°½åå¯†é‘° | æ‰‹å‹•é…ç½® |

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•¸æ“šåº«è¨­è¨ˆ

### 3.1 æ•¸æ“šè¡¨ç¸½è¦½

å¹³å°å…±æœ‰ **18 å€‹æ•¸æ“šè¡¨**ï¼Œåˆ†ç‚ºå…­å¤§é¡åˆ¥ï¼š

| é¡åˆ¥ | æ•¸æ“šè¡¨ | ç”¨é€” |
|-----|-------|------|
| ç”¨æˆ¶èˆ‡èªè­‰ | users | ç”¨æˆ¶åŸºæœ¬è³‡æ–™å’Œè§’è‰² |
| AI æ™ºèƒ½é«” | ai_personas, ai_training, superpowers, knowledge_bases, quick_buttons | AI é…ç½®å’ŒçŸ¥è­˜ |
| å®¢æˆ¶é—œä¿‚ | customers, customer_memories, customer_conversation_summaries, conversations | å®¢æˆ¶æ•¸æ“šå’Œå°è©± |
| åœ˜éšŠå”ä½œ | teams, team_members, team_knowledge | åœ˜éšŠåŠŸèƒ½ |
| åŸŸåç®¡ç† | user_domains, domain_health_logs, domain_orders, stripe_payments | è‡ªè¨‚åŸŸå |
| æœƒå“¡è¨ˆè²» | subscriptions, usage_logs | è¨‚é–±å’Œä½¿ç”¨é‡ |

### 3.2 æ ¸å¿ƒè¡¨çµæ§‹

#### users - ç”¨æˆ¶è¡¨

```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  openId VARCHAR(64) UNIQUE NOT NULL,
  name TEXT,
  email VARCHAR(320),
  loginMethod VARCHAR(64),
  role ENUM('user', 'admin') DEFAULT 'user',
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP,
  lastSignedIn TIMESTAMP
);
```

#### ai_personas - AI äººè¨­è¡¨

```sql
CREATE TABLE ai_personas (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT UNIQUE NOT NULL,
  agentName VARCHAR(100) DEFAULT 'AI Assistant',
  avatarUrl VARCHAR(512),
  welcomeMessage TEXT,
  systemPrompt TEXT,
  primaryColor VARCHAR(20) DEFAULT '#3B82F6',
  layoutStyle ENUM('minimal','professional','custom') DEFAULT 'minimal',
  backgroundImageUrl VARCHAR(512),
  profilePhotoUrl TEXT,
  tagline VARCHAR(255),
  suggestedQuestions TEXT,
  showQuickButtons BOOLEAN DEFAULT true,
  buttonDisplayMode VARCHAR(20) DEFAULT 'full',
  chatPlaceholder VARCHAR(255) DEFAULT 'è¼¸å…¥æ‚¨çš„å•é¡Œ...',
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP
);
```

#### domain_orders - åŸŸåè¨‚å–®è¡¨

```sql
CREATE TABLE domain_orders (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,
  domain VARCHAR(255) NOT NULL,
  tld VARCHAR(20) NOT NULL,
  registrar VARCHAR(100) DEFAULT 'namecom',
  registrarOrderId VARCHAR(255),
  domainPrice INT NOT NULL,
  managementFee INT DEFAULT 1299,
  totalPrice INT NOT NULL,
  currency VARCHAR(3) DEFAULT 'USD',
  stripePaymentIntentId VARCHAR(255),
  status ENUM('pending_payment','payment_processing','payment_failed',
              'payment_completed','registering','registered','failed','cancelled'),
  registrationDate TIMESTAMP,
  expirationDate TIMESTAMP,
  autoRenewal BOOLEAN DEFAULT true,
  dnsStatus ENUM('pending','configuring','propagating','active','error') DEFAULT 'pending',
  sslStatus ENUM('pending','provisioning','active','error') DEFAULT 'pending',
  cloudflareZoneId VARCHAR(64),
  cloudflareCnameRecordId VARCHAR(64),
  targetHost VARCHAR(255) DEFAULT 'lulubaby.manus.space',
  personaId INT,
  isPublished BOOLEAN DEFAULT false,
  publishedAt TIMESTAMP,
  createdAt TIMESTAMP DEFAULT NOW(),
  updatedAt TIMESTAMP
);
```

#### ai_training - è¨“ç·´è¨­å®šè¡¨ï¼ˆ48 é …è©•åˆ†ï¼‰

æ­¤è¡¨åŒ…å« **8 å¤§ç¶­åº¦ Ã— 6 é … = 48 é …è©•åˆ†**ï¼ˆæ¯é … 1-5 åˆ†ï¼‰ï¼š

| ç¶­åº¦ | è©•åˆ†é …ç›® |
|-----|---------|
| ğŸ’¬ èªªè©±é¢¨æ ¼ | å¹½é»˜åº¦ã€è¦ªåˆ‡åº¦ã€æ­£å¼åº¦ã€ç†±æƒ…åº¦ã€è€å¿ƒåº¦ã€åŒç†å¿ƒ |
| ğŸ“ å›æ‡‰æ–¹å¼ | å›è¦†é•·åº¦ã€å›è¦†æ·±åº¦ã€èˆ‰ä¾‹é »ç‡ã€æ•¸æ“šä½¿ç”¨ã€æ¯”å–»ä½¿ç”¨ã€çµæ§‹åŒ–ç¨‹åº¦ |
| ğŸ¤ æºé€šæ…‹åº¦ | ä¸»å‹•æ€§ã€æå•é »ç‡ã€å»ºè­°é »ç‡ã€è¬™éœåº¦ã€å …æŒåº¦ã€é—œå¿ƒåº¦ |
| ğŸ’¼ éŠ·å”®é¢¨æ ¼ | æ¨éŠ·å¼·åº¦ã€ç·Šè¿«æ„Ÿã€åƒ¹æ ¼æ•æ„Ÿåº¦ã€æ¯”è¼ƒä½¿ç”¨ã€æˆäº¤å¼·åº¦ã€è·Ÿé€²é »ç‡ |
| ğŸ“ å°ˆæ¥­è¡¨ç¾ | è¡“èªä½¿ç”¨ã€æ³•è¦æ„è­˜ã€é¢¨éšªæç¤ºã€æ¡ˆä¾‹ä½¿ç”¨ã€å¸‚å ´åˆ†æã€æ•™è‚²å…§å®¹ |
| ğŸ˜Š æƒ…ç·’è™•ç† | å®‰æ’«èƒ½åŠ›ã€è®šç¾é »ç‡ã€é¼“å‹µç¨‹åº¦ã€è² é¢è™•ç†ã€æ¨‚è§€ç¨‹åº¦ã€ç·Šå¼µæ™‚å¹½é»˜ |
| ğŸ—£ï¸ èªè¨€ç¿’æ…£ | Emojiä½¿ç”¨ã€å£èªåŒ–ç¨‹åº¦ã€å»£æ±è©±ä½¿ç”¨ã€ä¸­è‹±å¤¾é›œã€æ„Ÿå˜†è©ä½¿ç”¨ã€ç¨±å‘¼æ–¹å¼ |
| âš ï¸ æœå‹™é‚Šç•Œ | è©±é¡Œç¯„åœã€éš±ç§æ„è­˜ã€æ‰¿è«¾è¬¹æ…ã€è½‰ä»‹æ„é¡˜ã€ä¸ç¢ºå®šè™•ç†ã€æŠ•è¨´è™•ç† |

---

## ç¬¬å››éƒ¨åˆ†ï¼šæ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„

### 4.1 AI å°è©±ç³»çµ±

AI å°è©±ç³»çµ±æ˜¯å¹³å°çš„æ ¸å¿ƒï¼Œè² è²¬è™•ç†ç”¨æˆ¶èˆ‡ AI æ™ºèƒ½é«”ä¹‹é–“çš„å°è©±ã€‚

**å°è©±æµç¨‹**ï¼š
1. ç”¨æˆ¶ç™¼é€è¨Šæ¯
2. ç³»çµ±è¼‰å…¥ AI äººè¨­é…ç½®ï¼ˆSystem Promptã€è¨“ç·´è¨­å®šï¼‰
3. ç³»çµ±è¼‰å…¥ç›¸é—œçŸ¥è­˜åº«å…§å®¹
4. ç³»çµ±è¼‰å…¥å®¢æˆ¶è¨˜æ†¶ï¼ˆå¦‚æœ‰ï¼‰
5. èª¿ç”¨ LLM API ç”Ÿæˆå›è¦†
6. ä¿å­˜å°è©±è¨˜éŒ„
7. è¿”å› AI å›è¦†

**System Prompt çµ„æˆ**ï¼š
```
åŸºç¤äººè¨­ + è¨“ç·´è©•åˆ†è½‰æ›çš„æŒ‡ä»¤ + çŸ¥è­˜åº«å…§å®¹ + å®¢æˆ¶è¨˜æ†¶ + å°è©±æ­·å²
```

### 4.2 çŸ¥è­˜åº«ç®¡ç†

çŸ¥è­˜åº«æ”¯æ´äº”ç¨®ä¾†æºé¡å‹ï¼š

| ä¾†æºé¡å‹ | èªªæ˜ | è™•ç†æ–¹å¼ |
|---------|------|---------|
| file | æ–‡ä»¶ä¸Šå‚³ï¼ˆPDFã€TXTã€DOCXï¼‰ | æå–æ–‡å­—å…§å®¹ |
| youtube | YouTube å½±ç‰‡ | æå–å­—å¹•æ–‡å­— |
| webpage | ç¶²é  URL | æŠ“å–ç¶²é å…§å®¹ |
| text | ç›´æ¥æ–‡å­—è¼¸å…¥ | ç›´æ¥å­˜å„² |
| faq | FAQ å•ç­”å° | JSON æ ¼å¼å­˜å„² |

### 4.3 å®¢æˆ¶è¨˜æ†¶ç³»çµ±

å®¢æˆ¶è¨˜æ†¶ç³»çµ±å¯¦ç¾äº†è·¨å°è©±çš„å®¢æˆ¶è­˜åˆ¥å’Œè¨˜æ†¶åŠŸèƒ½ï¼š

**å®¢æˆ¶è­˜åˆ¥æ©Ÿåˆ¶**ï¼š
- ä¸»è¦è­˜åˆ¥ï¼šSession ID
- è¼”åŠ©è­˜åˆ¥ï¼šç€è¦½å™¨æŒ‡ç´‹ï¼ˆFingerprintï¼‰
- åˆä½µé‚è¼¯ï¼šç›¸åŒæŒ‡ç´‹çš„ä¸åŒ Session æœƒè¢«åˆä½µ

**è¨˜æ†¶é¡å‹**ï¼š
- preferenceï¼ˆåå¥½ï¼‰
- factï¼ˆäº‹å¯¦ï¼‰
- needï¼ˆéœ€æ±‚ï¼‰
- concernï¼ˆé¡§æ…®ï¼‰
- interactionï¼ˆäº’å‹•è¨˜éŒ„ï¼‰
- purchaseï¼ˆè³¼è²·è¨˜éŒ„ï¼‰
- feedbackï¼ˆåé¥‹æ„è¦‹ï¼‰

**å°è©±æ‘˜è¦è‡ªå‹•ç”Ÿæˆ**ï¼š
- è§¸ç™¼æ™‚æ©Ÿï¼šé é¢é—œé–‰ã€æ¨™ç±¤é éš±è—ã€5åˆ†é˜ç„¡æ´»å‹•
- æå–å…§å®¹ï¼šå°è©±æ‘˜è¦ã€é—œéµè©±é¡Œã€å®¢æˆ¶æå•ã€å°è©±çµæœ
- è‡ªå‹•æå–å®¢æˆ¶è³‡æ–™ï¼ˆå§“åã€é›»éƒµã€é›»è©±ï¼‰å­˜å…¥å®¢æˆ¶è¨˜éŒ„

---

## ç¬¬äº”éƒ¨åˆ†ï¼šè‡ªè¨‚ç¶²åŸŸç³»çµ±

### 5.1 ç³»çµ±æ¶æ§‹

è‡ªè¨‚ç¶²åŸŸç³»çµ±æ•´åˆäº†ä¸‰å€‹ç¬¬ä¸‰æ–¹æœå‹™ï¼Œå¯¦ç¾å¾åŸŸåæœç´¢åˆ°ç™¼å¸ƒçš„å®Œæ•´æµç¨‹ï¼š

```
ç”¨æˆ¶æœç´¢åŸŸå â†’ Name.com API æŸ¥è©¢åƒ¹æ ¼å’Œå¯ç”¨æ€§
     â†“
ç”¨æˆ¶é¸æ“‡åŸŸå â†’ å‰µå»ºè¨‚å–® â†’ Stripe Checkout æ”¯ä»˜
     â†“
æ”¯ä»˜æˆåŠŸ â†’ Stripe Webhook è§¸ç™¼ â†’ Name.com API è³¼è²·åŸŸå
     â†“
åŸŸåè³¼è²·æˆåŠŸ â†’ Cloudflare API å‰µå»º Zone â†’ è¨­ç½® CNAME è¨˜éŒ„
     â†“
DNS é…ç½®å®Œæˆ â†’ æ›´æ–° Nameservers â†’ SSL è‡ªå‹•ç”³è«‹
     â†“
ç”¨æˆ¶ç¶å®š AI æ™ºèƒ½é«” â†’ ç™¼å¸ƒåŸŸå â†’ åŸŸåå¯è¨ªå•
```

### 5.2 Name.com API æ•´åˆ

**API ç«¯é»**ï¼š`https://api.name.com/v4`

**èªè­‰æ–¹å¼**ï¼šHTTP Basic Authï¼ˆç”¨æˆ¶å:API Tokenï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

| åŠŸèƒ½ | API ç«¯é» | æ–¹æ³• |
|-----|---------|------|
| æª¢æŸ¥åŸŸåå¯ç”¨æ€§ | /domains:checkAvailability | POST |
| è³¼è²·åŸŸå | /domains | POST |
| ç²å–åŸŸåè³‡è¨Š | /domains/{domainName} | GET |
| è¨­ç½® DNS è¨˜éŒ„ | /domains/{domainName}/records | POST |
| è¨­ç½® Nameservers | /domains/{domainName}:setNameservers | POST |

**åƒ¹æ ¼ç­–ç•¥**ï¼š
- åŠ åƒ¹æ¯”ä¾‹ï¼š30%ï¼ˆMARKUP_PERCENTAGE = 0.30ï¼‰
- è¨ˆç®—å…¬å¼ï¼š`å”®åƒ¹ = Name.com åŸåƒ¹ Ã— 1.3`
- ç®¡ç†è²»ï¼š$12.99 USD/å¹´ï¼ˆå¯é¸ï¼‰
- è²¨å¹£ï¼šçµ±ä¸€ä½¿ç”¨ USD

**ä»£ç¢¼ç¤ºä¾‹**ï¼ˆnamecom.tsï¼‰ï¼š

```typescript
// è¨ˆç®— Lulubaby å”®åƒ¹ï¼ˆå« 30% åŠ åƒ¹ï¼‰
export const calculateSellingPrice = (usdPrice: number): number => {
  const markedUpPrice = usdPrice * (1 + MARKUP_PERCENTAGE);
  return Math.round(markedUpPrice * 100) / 100;
};

// è³¼è²·åŸŸå
export const purchaseDomain = async (
  request: DomainPurchaseRequest
): Promise<DomainInfo> => {
  return apiRequest<DomainInfo>("/domains", "POST", request);
};
```

### 5.3 Stripe æ”¯ä»˜æ•´åˆ

**æ”¯ä»˜æµç¨‹**ï¼š

1. **å‰µå»º Checkout Session**ï¼š
   - ç”¨æˆ¶é¸æ“‡åŸŸåå¾Œï¼Œå¾Œç«¯å‰µå»º Stripe Checkout Session
   - åŒ…å«åŸŸååƒ¹æ ¼ã€ç®¡ç†è²»ï¼ˆå¯é¸ï¼‰ã€è¨‚å–® ID å…ƒæ•¸æ“š

2. **ç”¨æˆ¶å®Œæˆæ”¯ä»˜**ï¼š
   - é‡å®šå‘åˆ° Stripe Checkout é é¢
   - æ”¯æŒä¿¡ç”¨å¡ã€Apple Payã€Google Pay

3. **Webhook è™•ç†**ï¼š
   - ç›£è½ `checkout.session.completed` äº‹ä»¶
   - é©—è­‰ç°½åï¼Œæ›´æ–°è¨‚å–®ç‹€æ…‹
   - è‡ªå‹•è§¸ç™¼ Name.com åŸŸåè³¼è²·

**Webhook è™•ç†å™¨**ï¼ˆwebhooks/stripe.tsï¼‰ï¼š

```typescript
export const handleCheckoutSessionCompleted = async (
  session: Stripe.Checkout.Session
) => {
  const orderId = parseInt(session.metadata?.orderId);
  const order = await getDomainOrder(orderId);
  
  // æ›´æ–°è¨‚å–®ç‹€æ…‹ç‚ºæ”¯ä»˜æˆåŠŸ
  await updateDomainOrderStatus(orderId, 'payment_completed');
  
  // è‡ªå‹•èª¿ç”¨ Name.com è³¼è²· API
  const purchaseRequest = {
    domain: { domainName: order.domain },
    purchasePrice: order.domainPrice / 100,
    years: 1,
  };
  
  const result = await purchaseDomain(purchaseRequest);
  await updateDomainOrderStatus(orderId, 'registered');
};
```

### 5.4 Cloudflare DNS æ•´åˆ

**API ç«¯é»**ï¼š`https://api.cloudflare.com/client/v4`

**èªè­‰æ–¹å¼**ï¼šBearer Token

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

| åŠŸèƒ½ | API ç«¯é» | èªªæ˜ |
|-----|---------|------|
| å‰µå»º Zone | POST /zones | å°‡åŸŸåæ·»åŠ åˆ° Cloudflare |
| æ·»åŠ  DNS è¨˜éŒ„ | POST /zones/{zoneId}/dns_records | è¨­ç½® CNAME æŒ‡å‘ lulubaby.manus.space |
| æª¢æŸ¥ SSL ç‹€æ…‹ | GET /zones/{zoneId}/ssl/verification | æª¢æŸ¥ SSL è­‰æ›¸ç‹€æ…‹ |
| å•Ÿç”¨ Full SSL | PATCH /zones/{zoneId}/settings/ssl | å•Ÿç”¨å®Œæ•´ SSL æ¨¡å¼ |

**å®Œæ•´åŸŸåè¨­ç½®æµç¨‹**ï¼ˆservices/cloudflare.tsï¼‰ï¼š

```typescript
export async function setupDomain(domain: string): Promise<DomainSetupResult> {
  // Step 1: å‰µå»º Cloudflare Zone
  const zoneResult = await createZone(domain);
  
  // Step 2: æ·»åŠ  CNAME è¨˜éŒ„
  const cnameResult = await addCnameRecord(zoneResult.zoneId!, domain);
  
  // Step 3: å•Ÿç”¨ Full SSL
  await enableFullSsl(zoneResult.zoneId!);
  
  // Step 4: æ›´æ–° Name.com çš„ Nameservers
  await updateNamecomNameservers(domain, zoneResult.nameservers);
  
  return {
    success: true,
    zoneId: zoneResult.zoneId,
    cnameRecordId: cnameResult.recordId,
    nameservers: zoneResult.nameservers,
  };
}
```

### 5.5 åŸŸåå‹•æ…‹è·¯ç”±

ç•¶ç”¨æˆ¶é€éè‡ªè¨‚åŸŸåï¼ˆå¦‚ lulubaby.xyzï¼‰è¨ªå•æ™‚ï¼Œç³»çµ±éœ€è¦è­˜åˆ¥åŸŸåä¸¦è¼‰å…¥å°æ‡‰çš„ AI æ™ºèƒ½é«”ï¼š

**å‰ç«¯è·¯ç”±é‚è¼¯**ï¼ˆApp.tsxï¼‰ï¼š

```typescript
// æª¢æŸ¥æ˜¯å¦ç‚ºè‡ªè¨‚åŸŸå
const isCustomDomain = !window.location.hostname.includes('manus.computer') 
                    && !window.location.hostname.includes('localhost');

// è‡ªè¨‚åŸŸåä½¿ç”¨ CustomDomainChat çµ„ä»¶
if (isCustomDomain) {
  return <CustomDomainChat />;
}
```

**CustomDomainChat çµ„ä»¶é‚è¼¯**ï¼š

1. å¾ `window.location.hostname` ç²å–åŸŸå
2. èª¿ç”¨ `domains.getPublishedDomain` API æŸ¥è©¢ç¶å®šçš„æ™ºèƒ½é«”
3. è¼‰å…¥æ™ºèƒ½é«”é…ç½®ï¼ˆä½ˆå±€é¢¨æ ¼ã€èƒŒæ™¯åœ–ç‰‡ã€æ­¡è¿èªç­‰ï¼‰
4. æ¸²æŸ“å°è©±ä»‹é¢

---

## ç¬¬å…­éƒ¨åˆ†ï¼šç¬¬ä¸‰æ–¹æœå‹™æ•´åˆ

### 6.1 æœå‹™æ•´åˆç¸½è¦½

| æœå‹™ | ç”¨é€” | API ç‰ˆæœ¬ | èªè­‰æ–¹å¼ |
|-----|------|---------|---------|
| Manus OAuth | ç”¨æˆ¶èªè­‰ | - | OAuth 2.0 |
| Manus LLM API | AI å°è©±ç”Ÿæˆ | - | Bearer Token |
| Name.com | åŸŸåè¨»å†Š | v4 | HTTP Basic Auth |
| Cloudflare | DNS å’Œ SSL | v4 | Bearer Token |
| Stripe | æ”¯ä»˜è™•ç† | - | Secret Key |
| S3 | æ–‡ä»¶å­˜å„² | - | AWS æ†‘è­‰ |

### 6.2 Name.com é…ç½®æŒ‡å—

**æ­¥é©Ÿ 1ï¼šè¨»å†Š Name.com å¸³æˆ¶**
- è¨ªå• https://www.name.com
- å‰µå»ºå¸³æˆ¶ä¸¦å®Œæˆé©—è­‰

**æ­¥é©Ÿ 2ï¼šç²å– API æ†‘è­‰**
- ç™»å…¥å¾Œé€²å…¥ Account Settings â†’ API Tokens
- å‰µå»ºæ–°çš„ API Token
- è¨˜éŒ„ç”¨æˆ¶åå’Œ Token

**æ­¥é©Ÿ 3ï¼šé…ç½®ç’°å¢ƒè®Šæ•¸**
```
NAMECOM_USERNAME=your_username
NAMECOM_API_TOKEN=your_api_token
```

**æ­¥é©Ÿ 4ï¼šé å……å€¼å¸³æˆ¶é¤˜é¡**
- Name.com API è³¼è²·åŸŸåéœ€è¦å¸³æˆ¶æœ‰è¶³å¤ é¤˜é¡
- å»ºè­°é å……å€¼ $100-500 USD

### 6.3 Cloudflare é…ç½®æŒ‡å—

**æ­¥é©Ÿ 1ï¼šå‰µå»º Cloudflare å¸³æˆ¶**
- è¨ªå• https://dash.cloudflare.com
- å‰µå»ºå…è²»å¸³æˆ¶

**æ­¥é©Ÿ 2ï¼šç²å– Account ID**
- ç™»å…¥å¾Œåœ¨å³å´é‚Šæ¬„æ‰¾åˆ° Account ID

**æ­¥é©Ÿ 3ï¼šå‰µå»º API Token**
- é€²å…¥ My Profile â†’ API Tokens
- å‰µå»ºæ–° Tokenï¼Œé¸æ“‡ "Edit zone DNS" æ¨¡æ¿
- æˆæ¬Šæ‰€æœ‰ Zones çš„ç·¨è¼¯æ¬Šé™

**æ­¥é©Ÿ 4ï¼šé…ç½®ç’°å¢ƒè®Šæ•¸**
```
CLOUDFLARE_API_TOKEN=your_api_token
CLOUDFLARE_ACCOUNT_ID=your_account_id
```

### 6.4 Stripe é…ç½®æŒ‡å—

**æ­¥é©Ÿ 1ï¼šå‰µå»º Stripe å¸³æˆ¶**
- è¨ªå• https://dashboard.stripe.com
- å®Œæˆå¸³æˆ¶è¨­ç½®å’Œé©—è­‰

**æ­¥é©Ÿ 2ï¼šç²å– API å¯†é‘°**
- é€²å…¥ Developers â†’ API keys
- è¨˜éŒ„ Publishable key å’Œ Secret key

**æ­¥é©Ÿ 3ï¼šé…ç½® Webhook**
- é€²å…¥ Developers â†’ Webhooks
- æ·»åŠ ç«¯é»ï¼š`https://your-domain.com/api/webhooks/stripe`
- é¸æ“‡äº‹ä»¶ï¼š`checkout.session.completed`
- è¨˜éŒ„ Webhook Signing Secret

**æ­¥é©Ÿ 4ï¼šé…ç½®ç’°å¢ƒè®Šæ•¸**
```
STRIPE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
```

---

## ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå‰ç«¯çµ„ä»¶çµæ§‹

### 7.1 é é¢çµ„ä»¶

| çµ„ä»¶ | è·¯å¾‘ | åŠŸèƒ½ |
|-----|------|------|
| Dashboard | /dashboard | å„€è¡¨æ¿ã€æ•¸æ“šçµ±è¨ˆ |
| Appearance | /appearance | ç‰ˆé¢è¨­å®šã€AI è¨­å®š |
| Training | /training | è¨“ç·´æ™ºèƒ½é«”ï¼ˆ48é …è©•åˆ†ï¼‰ |
| Superpowers | /superpowers | é–‹ç™¼è¶…èƒ½åŠ›ï¼ˆ17é …é–‹é—œï¼‰ |
| Knowledge | /knowledge | çŸ¥è­˜åº«ç®¡ç† |
| Customers | /customers | å®¢æˆ¶è¨˜æ†¶ç®¡ç† |
| Domain | /domain | å°ˆå±¬ç¶²å€ã€åŸŸåè³¼è²· |
| Chat | /chat/:id | å…¬é–‹å°è©±é  |
| CustomDomainChat | / | è‡ªè¨‚åŸŸåå°è©±é  |

### 7.2 å°è©±é é¢ä½ˆå±€é¢¨æ ¼

å¹³å°æ”¯æ´ä¸‰ç¨®ä½ˆå±€é¢¨æ ¼ï¼Œç”± `layoutStyle` æ¬„ä½æ§åˆ¶ï¼š

**minimalï¼ˆç°¡ç´„é¢¨æ ¼ï¼‰**ï¼š
- é¡ä¼¼ ChatGPT çš„ç°¡æ½”è¨­è¨ˆ
- ç™½è‰²èƒŒæ™¯ï¼Œç„¡è£é£¾
- é©åˆå°ˆæ¥­ã€æ­£å¼å ´åˆ

**professionalï¼ˆå°ˆæ¥­åç‰‡é¢¨æ ¼ï¼‰**ï¼š
- é¡¯ç¤ºå€‹äººç…§ç‰‡å’Œæ¨™èª
- å¡ç‰‡å¼è¨­è¨ˆ
- é©åˆå€‹äººå“ç‰Œå±•ç¤º

**customï¼ˆè‡ªè¨‚èƒŒæ™¯é¢¨æ ¼ï¼‰**ï¼š
- æ”¯æ´è‡ªè¨‚èƒŒæ™¯åœ–ç‰‡
- æ–‡å­—ä½¿ç”¨ç™½è‰²é…åˆé™°å½±
- é©åˆå“ç‰Œè¦–è¦ºå¼·èª¿

### 7.3 ç‰ˆé¢é è¦½çµ„ä»¶

`CompactChatPreview` çµ„ä»¶æä¾›å³æ™‚é è¦½åŠŸèƒ½ï¼š

- æ”¯æ´æ‰‹æ©Ÿç‰ˆå’Œæ¡Œé¢ç‰ˆåˆ‡æ›
- å³æ™‚åæ˜ è¨­å®šè®Šæ›´
- é¡¯ç¤ºæ‰€æœ‰ä½ˆå±€å…ƒç´ ï¼ˆæ­¡è¿èªã€è¼¸å…¥æ¡†ã€å¿«æ·æŒ‰éˆ•ï¼‰

---

## ç¬¬å…«éƒ¨åˆ†ï¼šAPI è·¯ç”±å®Œæ•´æ¸…å–®

### 8.1 èªè­‰ç›¸é—œ

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| auth.me | Query | ç²å–ç•¶å‰ç”¨æˆ¶è³‡è¨Š |
| auth.logout | Mutation | ç™»å‡º |

### 8.2 AI æ™ºèƒ½é«”

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| persona.get | Query | ç²å–ç”¨æˆ¶çš„ AI äººè¨­ |
| persona.getPublic | Query | ç²å–å…¬é–‹çš„ AI äººè¨­ï¼ˆå°è©±é ç”¨ï¼‰ |
| persona.update | Mutation | æ›´æ–° AI äººè¨­ |
| training.get | Query | ç²å–è¨“ç·´è¨­å®š |
| training.update | Mutation | æ›´æ–°è¨“ç·´è¨­å®š |
| superpowers.get | Query | ç²å–è¶…èƒ½åŠ›è¨­å®š |
| superpowers.update | Mutation | æ›´æ–°è¶…èƒ½åŠ›è¨­å®š |

### 8.3 çŸ¥è­˜åº«

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| knowledge.list | Query | åˆ—å‡ºçŸ¥è­˜åº«é …ç›® |
| knowledge.create | Mutation | å‰µå»ºçŸ¥è­˜åº«é …ç›® |
| knowledge.delete | Mutation | åˆªé™¤çŸ¥è­˜åº«é …ç›® |

### 8.4 å°è©±

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| chat.send | Mutation | ç™¼é€è¨Šæ¯ä¸¦ç²å– AI å›è¦† |
| chat.history | Query | ç²å–å°è©±æ­·å² |
| chat.endConversation | Mutation | çµæŸå°è©±ä¸¦ç”Ÿæˆæ‘˜è¦ |

### 8.5 å®¢æˆ¶è¨˜æ†¶

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| customers.list | Query | åˆ—å‡ºå®¢æˆ¶ |
| customers.get | Query | ç²å–å®¢æˆ¶è©³æƒ… |
| customers.update | Mutation | æ›´æ–°å®¢æˆ¶è³‡æ–™ |
| customers.memories.list | Query | åˆ—å‡ºå®¢æˆ¶è¨˜æ†¶ |
| customers.memories.create | Mutation | å‰µå»ºè¨˜æ†¶ |
| customers.memories.delete | Mutation | åˆªé™¤è¨˜æ†¶ |

### 8.6 åŸŸåç®¡ç†

| è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| domains.search | Query | æœç´¢åŸŸåï¼ˆå«åƒ¹æ ¼ï¼‰ |
| domains.checkAvailability | Query | æª¢æŸ¥å–®ä¸€åŸŸåå¯ç”¨æ€§ |
| domains.createOrder | Mutation | å‰µå»ºåŸŸåè¨‚å–® |
| domains.createCheckoutSession | Mutation | å‰µå»º Stripe Checkout |
| domains.getOrders | Query | ç²å–ç”¨æˆ¶çš„åŸŸåè¨‚å–® |
| domains.bindPersona | Mutation | ç¶å®š AI æ™ºèƒ½é«” |
| domains.unbindPersona | Mutation | è§£é™¤ç¶å®š |
| domains.publish | Mutation | ç™¼å¸ƒåŸŸå |
| domains.unpublish | Mutation | å–æ¶ˆç™¼å¸ƒ |
| domains.getPublished | Query | ç²å–å·²ç™¼å¸ƒçš„åŸŸå |
| domains.getPublishedDomain | Query | æ ¹æ“šåŸŸåç²å–ç¶å®šçš„æ™ºèƒ½é«” |
| domains.checkDnsStatus | Query | æª¢æŸ¥ DNS ç‹€æ…‹ |
| domains.checkSslStatus | Query | æª¢æŸ¥ SSL ç‹€æ…‹ |

---

## ç¬¬ä¹éƒ¨åˆ†ï¼šéƒ¨ç½²èˆ‡é…ç½®

### 9.1 Manus å¹³å°éƒ¨ç½²

Lulubaby è¨­è¨ˆç‚ºåœ¨ Manus å¹³å°ä¸Šé‹è¡Œï¼Œéƒ¨ç½²æ­¥é©Ÿï¼š

1. åœ¨ Manus å‰µå»ºæ–°çš„ Web é …ç›®ï¼ˆweb-db-user æ¨¡æ¿ï¼‰
2. é…ç½®ç’°å¢ƒè®Šæ•¸ï¼ˆName.comã€Cloudflareã€Stripeï¼‰
3. åŸ·è¡Œæ•¸æ“šåº«é·ç§»ï¼š`pnpm db:push`
4. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨ï¼š`pnpm dev`
5. å‰µå»º Checkpoint ä¸¦ç™¼å¸ƒ

### 9.2 è‡ªè¨‚åŸŸåé…ç½®

ç™¼å¸ƒå¾Œï¼Œç”¨æˆ¶å¯ä»¥ï¼š

1. åœ¨ã€Œå°ˆå±¬ç¶²å€ã€é é¢æœç´¢åŸŸå
2. é¸æ“‡åŸŸåä¸¦å®Œæˆ Stripe æ”¯ä»˜
3. ç³»çµ±è‡ªå‹•è³¼è²·åŸŸåä¸¦é…ç½® DNS
4. ç¶å®š AI æ™ºèƒ½é«”ä¸¦ç™¼å¸ƒ
5. é€éè‡ªè¨‚åŸŸåè¨ªå•å°è©±é é¢

---

## ç¬¬åéƒ¨åˆ†ï¼šé‡å»ºæ­¥é©ŸæŒ‡å—

### 10.1 å¾é›¶é–‹å§‹é‡å»º

å¦‚æœéœ€è¦åœ¨æ–°ç’°å¢ƒé‡å»º Lulubaby å¹³å°ï¼Œè«‹æŒ‰ä»¥ä¸‹æ­¥é©Ÿé€²è¡Œï¼š

**æ­¥é©Ÿ 1ï¼šå‰µå»ºé …ç›®**
```bash
# åœ¨ Manus å¹³å°å‰µå»º web-db-user é …ç›®
# æˆ–ä½¿ç”¨å…¶ä»–æ”¯æ´ React + Express + MySQL çš„ç’°å¢ƒ
```

**æ­¥é©Ÿ 2ï¼šå®‰è£ä¾è³´**
```bash
pnpm install
```

**æ­¥é©Ÿ 3ï¼šé…ç½®ç’°å¢ƒè®Šæ•¸**
- è¨­ç½®æ‰€æœ‰å¿…è¦çš„ç’°å¢ƒè®Šæ•¸ï¼ˆåƒè€ƒ 2.3 ç¯€ï¼‰

**æ­¥é©Ÿ 4ï¼šå‰µå»ºæ•¸æ“šåº«è¡¨**
- è¤‡è£½ `drizzle/schema.ts` ä¸­çš„è¡¨å®šç¾©
- åŸ·è¡Œ `pnpm db:push`

**æ­¥é©Ÿ 5ï¼šå¯¦ç¾æ ¸å¿ƒåŠŸèƒ½**
æŒ‰ä»¥ä¸‹é †åºå¯¦ç¾ï¼š
1. ç”¨æˆ¶èªè­‰ï¼ˆOAuthï¼‰
2. AI äººè¨­ç®¡ç†
3. çŸ¥è­˜åº«ç®¡ç†
4. å°è©±ç³»çµ±
5. å®¢æˆ¶è¨˜æ†¶
6. ç‰ˆé¢è¨­å®š
7. åŸŸåç®¡ç†

**æ­¥é©Ÿ 6ï¼šé…ç½®ç¬¬ä¸‰æ–¹æœå‹™**
- Name.com API
- Cloudflare API
- Stripe æ”¯ä»˜

**æ­¥é©Ÿ 7ï¼šæ¸¬è©¦èˆ‡éƒ¨ç½²**
- é‹è¡Œæ¸¬è©¦ï¼š`pnpm test`
- å‰µå»º Checkpoint
- ç™¼å¸ƒåˆ°ç”Ÿç”¢ç’°å¢ƒ

### 10.2 é—œéµä»£ç¢¼åƒè€ƒ

æœ¬æ–‡æª”ä¸­çš„ä»£ç¢¼ç¤ºä¾‹å‡ä¾†è‡ªå¯¦éš›é‹è¡Œçš„ Lulubaby å¹³å°ã€‚å®Œæ•´ä»£ç¢¼è«‹åƒè€ƒä»¥ä¸‹æ–‡ä»¶ï¼š

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾‘ |
|-----|---------|
| æ•¸æ“šåº« Schema | drizzle/schema.ts |
| API è·¯ç”± | server/routers.ts |
| æ•¸æ“šåº«æ“ä½œ | server/db.ts |
| Name.com API | server/namecom.ts |
| Cloudflare API | server/services/cloudflare.ts |
| Stripe Webhook | server/webhooks/stripe.ts |
| å°è©±é é¢ | client/src/pages/Chat.tsx |
| è‡ªè¨‚åŸŸåé é¢ | client/src/pages/CustomDomainChat.tsx |
| åŸŸåç®¡ç†é é¢ | client/src/pages/Domain.tsx |

---

## é™„éŒ„ Aï¼šæœƒå“¡è¨ˆåŠƒå®šåƒ¹

| è¨ˆåŠƒ | æœˆè²» | æ¯æ—¥å°è©± | æ¯æœˆå°è©± | çŸ¥è­˜åº«å¤§å° |
|-----|------|---------|---------|-----------|
| å…è²» | HK$0 | 20 æ¬¡ | 300 æ¬¡ | 1 MB |
| åŸºæœ¬ | HK$299 | 200 æ¬¡ | 6,000 æ¬¡ | 50 MB |
| Premium | HK$599 | ç„¡é™ | 50,000 æ¬¡ | 500 MB |

## é™„éŒ„ Bï¼šåœ˜éšŠè¨ˆåŠƒå®šåƒ¹

| è¨ˆåŠƒ | æœˆè²» | æˆå“¡ä¸Šé™ | çŸ¥è­˜åº«å¤§å° |
|-----|------|---------|-----------|
| åŸºç¤ç‰ˆ | HK$299 | 5 äºº | 100 MB |
| å°ˆæ¥­ç‰ˆ | HK$599 | 15 äºº | 500 MB |
| ä¼æ¥­ç‰ˆ | HK$1,299 | 50 äºº | 2,000 MB |

## é™„éŒ„ Cï¼šå“ç‰Œè¨­è¨ˆè¦ç¯„

**ä¸»è‰²èª¿**ï¼šTeal (#14B8A6)

**Logo æ¦‚å¿µ**ï¼šçœ¨çœ¼å°è©±æ°£æ³¡ + å¾®ç¬‘è¡¨æƒ…

**é…è‰²æ–¹æ¡ˆ**ï¼š
- å“ç‰Œä¸»è‰²ï¼š#14B8A6ï¼ˆTealï¼‰
- å®¢æˆ¶å‰ç«¯é¡åˆ¥ï¼š#10B981ï¼ˆç¶ è‰²ï¼‰
- AI å¤§è…¦é¡åˆ¥ï¼š#8B5CF6ï¼ˆç´«è‰²ï¼‰
- é–‹ç™¼è€…é¡åˆ¥ï¼š#06B6D4ï¼ˆé’è‰²ï¼‰
- è¨­å®šé¡åˆ¥ï¼š#F59E0Bï¼ˆæ©™è‰²ï¼‰

---

**æ–‡æª”çµæŸ**

æ­¤æ–‡æª”æ¶µè“‹äº† Lulubaby å¹³å°çš„æ‰€æœ‰æŠ€è¡“ç´°ç¯€ã€‚å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–éœ€è¦é€²ä¸€æ­¥èªªæ˜ï¼Œè«‹è¯ç¹«é–‹ç™¼åœ˜éšŠã€‚
